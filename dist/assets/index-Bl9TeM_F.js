(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();/**
* @vue/shared v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function mi(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const j={},Dt=[],Je=()=>{},ka=()=>!1,br=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),bi=e=>e.startsWith("onUpdate:"),he=Object.assign,Si=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Da=Object.prototype.hasOwnProperty,H=(e,t)=>Da.call(e,t),N=Array.isArray,Mt=e=>Sr(e)==="[object Map]",As=e=>Sr(e)==="[object Set]",D=e=>typeof e=="function",X=e=>typeof e=="string",gt=e=>typeof e=="symbol",J=e=>e!==null&&typeof e=="object",Cs=e=>(J(e)||D(e))&&D(e.then)&&D(e.catch),xs=Object.prototype.toString,Sr=e=>xs.call(e),Ma=e=>Sr(e).slice(8,-1),Os=e=>Sr(e)==="[object Object]",vi=e=>X(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,sn=mi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vr=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},La=/-(\w)/g,ht=vr(e=>e.replace(La,(t,n)=>n?n.toUpperCase():"")),Ua=/\B([A-Z])/g,yt=vr(e=>e.replace(Ua,"-$1").toLowerCase()),Rs=vr(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dr=vr(e=>e?`on${Rs(e)}`:""),dt=(e,t)=>!Object.is(e,t),Gn=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},Ns=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Jr=e=>{const t=parseFloat(e);return isNaN(t)?e:t};let Zi;const _r=()=>Zi||(Zi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function _i(e){if(N(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=X(r)?$a(r):_i(r);if(i)for(const o in i)t[o]=i[o]}return t}else if(X(e)||J(e))return e}const Ka=/;(?![^(]*\))/g,Fa=/:([^]+)/,Ha=/\/\*[^]*?\*\//g;function $a(e){const t={};return e.replace(Ha,"").split(Ka).forEach(n=>{if(n){const r=n.split(Fa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function wr(e){let t="";if(X(e))t=e;else if(N(e))for(let n=0;n<e.length;n++){const r=wr(e[n]);r&&(t+=r+" ")}else if(J(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Va="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Wa=mi(Va);function Ps(e){return!!e||e===""}const ks=e=>!!(e&&e.__v_isRef===!0),Zt=e=>X(e)?e:e==null?"":N(e)||J(e)&&(e.toString===xs||!D(e.toString))?ks(e)?Zt(e.value):JSON.stringify(e,Ds,2):String(e),Ds=(e,t)=>ks(t)?Ds(e,t.value):Mt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i],o)=>(n[Mr(r,o)+" =>"]=i,n),{})}:As(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Mr(n))}:gt(t)?Mr(t):J(t)&&!N(t)&&!Os(t)?String(t):t,Mr=(e,t="")=>{var n;return gt(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ge;class ja{constructor(t=!1){this.detached=t,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ge,!t&&ge&&(this.index=(ge.scopes||(ge.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ge;try{return ge=this,t()}finally{ge=n}}}on(){++this._on===1&&(this.prevScope=ge,ge=this)}off(){this._on>0&&--this._on===0&&(ge=this.prevScope,this.prevScope=void 0)}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function Ba(){return ge}let G;const Lr=new WeakSet;class Ms{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ge&&ge.active&&ge.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Lr.has(this)&&(Lr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Us(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,eo(this),Ks(this);const t=G,n=Le;G=this,Le=!0;try{return this.fn()}finally{Fs(this),G=t,Le=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)Ei(t);this.deps=this.depsTail=void 0,eo(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Lr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Yr(this)&&this.run()}get dirty(){return Yr(this)}}let Ls=0,cn,an;function Us(e,t=!1){if(e.flags|=8,t){e.next=an,an=e;return}e.next=cn,cn=e}function wi(){Ls++}function Ii(){if(--Ls>0)return;if(an){let t=an;for(an=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;cn;){let t=cn;for(cn=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Ks(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Fs(e){let t,n=e.depsTail,r=n;for(;r;){const i=r.prevDep;r.version===-1?(r===n&&(n=i),Ei(r),Ga(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=i}e.deps=t,e.depsTail=n}function Yr(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Hs(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Hs(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===pn)||(e.globalVersion=pn,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!Yr(e))))return;e.flags|=2;const t=e.dep,n=G,r=Le;G=e,Le=!0;try{Ks(e);const i=e.fn(e._value);(t.version===0||dt(i,e._value))&&(e.flags|=128,e._value=i,t.version++)}catch(i){throw t.version++,i}finally{G=n,Le=r,Fs(e),e.flags&=-3}}function Ei(e,t=!1){const{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let o=n.computed.deps;o;o=o.nextDep)Ei(o,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ga(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Le=!0;const $s=[];function it(){$s.push(Le),Le=!1}function ot(){const e=$s.pop();Le=e===void 0?!0:e}function eo(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=G;G=void 0;try{t()}finally{G=n}}}let pn=0;class qa{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Ti{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!G||!Le||G===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==G)n=this.activeLink=new qa(G,this),G.deps?(n.prevDep=G.depsTail,G.depsTail.nextDep=n,G.depsTail=n):G.deps=G.depsTail=n,Vs(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=G.depsTail,n.nextDep=void 0,G.depsTail.nextDep=n,G.depsTail=n,G.deps===n&&(G.deps=r)}return n}trigger(t){this.version++,pn++,this.notify(t)}notify(t){wi();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{Ii()}}}function Vs(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Vs(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Qr=new WeakMap,Tt=Symbol(""),Xr=Symbol(""),gn=Symbol("");function oe(e,t,n){if(Le&&G){let r=Qr.get(e);r||Qr.set(e,r=new Map);let i=r.get(n);i||(r.set(n,i=new Ti),i.map=r,i.key=n),i.track()}}function tt(e,t,n,r,i,o){const s=Qr.get(e);if(!s){pn++;return}const c=a=>{a&&a.trigger()};if(wi(),t==="clear")s.forEach(c);else{const a=N(e),l=a&&vi(n);if(a&&n==="length"){const u=Number(r);s.forEach((h,g)=>{(g==="length"||g===gn||!gt(g)&&g>=u)&&c(h)})}else switch((n!==void 0||s.has(void 0))&&c(s.get(n)),l&&c(s.get(gn)),t){case"add":a?l&&c(s.get("length")):(c(s.get(Tt)),Mt(e)&&c(s.get(Xr)));break;case"delete":a||(c(s.get(Tt)),Mt(e)&&c(s.get(Xr)));break;case"set":Mt(e)&&c(s.get(Tt));break}}Ii()}function Nt(e){const t=F(e);return t===e?t:(oe(t,"iterate",gn),Pe(e)?t:t.map(re))}function Ir(e){return oe(e=F(e),"iterate",gn),e}const za={__proto__:null,[Symbol.iterator](){return Ur(this,Symbol.iterator,re)},concat(...e){return Nt(this).concat(...e.map(t=>N(t)?Nt(t):t))},entries(){return Ur(this,"entries",e=>(e[1]=re(e[1]),e))},every(e,t){return Xe(this,"every",e,t,void 0,arguments)},filter(e,t){return Xe(this,"filter",e,t,n=>n.map(re),arguments)},find(e,t){return Xe(this,"find",e,t,re,arguments)},findIndex(e,t){return Xe(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Xe(this,"findLast",e,t,re,arguments)},findLastIndex(e,t){return Xe(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Xe(this,"forEach",e,t,void 0,arguments)},includes(...e){return Kr(this,"includes",e)},indexOf(...e){return Kr(this,"indexOf",e)},join(e){return Nt(this).join(e)},lastIndexOf(...e){return Kr(this,"lastIndexOf",e)},map(e,t){return Xe(this,"map",e,t,void 0,arguments)},pop(){return zt(this,"pop")},push(...e){return zt(this,"push",e)},reduce(e,...t){return to(this,"reduce",e,t)},reduceRight(e,...t){return to(this,"reduceRight",e,t)},shift(){return zt(this,"shift")},some(e,t){return Xe(this,"some",e,t,void 0,arguments)},splice(...e){return zt(this,"splice",e)},toReversed(){return Nt(this).toReversed()},toSorted(e){return Nt(this).toSorted(e)},toSpliced(...e){return Nt(this).toSpliced(...e)},unshift(...e){return zt(this,"unshift",e)},values(){return Ur(this,"values",re)}};function Ur(e,t,n){const r=Ir(e),i=r[t]();return r!==e&&!Pe(e)&&(i._next=i.next,i.next=()=>{const o=i._next();return o.value&&(o.value=n(o.value)),o}),i}const Ja=Array.prototype;function Xe(e,t,n,r,i,o){const s=Ir(e),c=s!==e&&!Pe(e),a=s[t];if(a!==Ja[t]){const h=a.apply(e,o);return c?re(h):h}let l=n;s!==e&&(c?l=function(h,g){return n.call(this,re(h),g,e)}:n.length>2&&(l=function(h,g){return n.call(this,h,g,e)}));const u=a.call(s,l,r);return c&&i?i(u):u}function to(e,t,n,r){const i=Ir(e);let o=n;return i!==e&&(Pe(e)?n.length>3&&(o=function(s,c,a){return n.call(this,s,c,a,e)}):o=function(s,c,a){return n.call(this,s,re(c),a,e)}),i[t](o,...r)}function Kr(e,t,n){const r=F(e);oe(r,"iterate",gn);const i=r[t](...n);return(i===-1||i===!1)&&Oi(n[0])?(n[0]=F(n[0]),r[t](...n)):i}function zt(e,t,n=[]){it(),wi();const r=F(e)[t].apply(e,n);return Ii(),ot(),r}const Ya=mi("__proto__,__v_isRef,__isVue"),Ws=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(gt));function Qa(e){gt(e)||(e=String(e));const t=F(this);return oe(t,"has",e),t.hasOwnProperty(e)}class js{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const i=this._isReadonly,o=this._isShallow;if(n==="__v_isReactive")return!i;if(n==="__v_isReadonly")return i;if(n==="__v_isShallow")return o;if(n==="__v_raw")return r===(i?o?cl:zs:o?qs:Gs).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const s=N(t);if(!i){let a;if(s&&(a=za[n]))return a;if(n==="hasOwnProperty")return Qa}const c=Reflect.get(t,n,se(t)?t:r);return(gt(n)?Ws.has(n):Ya(n))||(i||oe(t,"get",n),o)?c:se(c)?s&&vi(n)?c:c.value:J(c)?i?Js(c):Ci(c):c}}class Bs extends js{constructor(t=!1){super(!1,t)}set(t,n,r,i){let o=t[n];if(!this._isShallow){const a=pt(o);if(!Pe(r)&&!pt(r)&&(o=F(o),r=F(r)),!N(t)&&se(o)&&!se(r))return a?!1:(o.value=r,!0)}const s=N(t)&&vi(n)?Number(n)<t.length:H(t,n),c=Reflect.set(t,n,r,se(t)?t:i);return t===F(i)&&(s?dt(r,o)&&tt(t,"set",n,r):tt(t,"add",n,r)),c}deleteProperty(t,n){const r=H(t,n);t[n];const i=Reflect.deleteProperty(t,n);return i&&r&&tt(t,"delete",n,void 0),i}has(t,n){const r=Reflect.has(t,n);return(!gt(n)||!Ws.has(n))&&oe(t,"has",n),r}ownKeys(t){return oe(t,"iterate",N(t)?"length":Tt),Reflect.ownKeys(t)}}class Xa extends js{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const Za=new Bs,el=new Xa,tl=new Bs(!0);const Zr=e=>e,Dn=e=>Reflect.getPrototypeOf(e);function nl(e,t,n){return function(...r){const i=this.__v_raw,o=F(i),s=Mt(o),c=e==="entries"||e===Symbol.iterator&&s,a=e==="keys"&&s,l=i[e](...r),u=n?Zr:t?or:re;return!t&&oe(o,"iterate",a?Xr:Tt),{next(){const{value:h,done:g}=l.next();return g?{value:h,done:g}:{value:c?[u(h[0]),u(h[1])]:u(h),done:g}},[Symbol.iterator](){return this}}}}function Mn(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function rl(e,t){const n={get(i){const o=this.__v_raw,s=F(o),c=F(i);e||(dt(i,c)&&oe(s,"get",i),oe(s,"get",c));const{has:a}=Dn(s),l=t?Zr:e?or:re;if(a.call(s,i))return l(o.get(i));if(a.call(s,c))return l(o.get(c));o!==s&&o.get(i)},get size(){const i=this.__v_raw;return!e&&oe(F(i),"iterate",Tt),Reflect.get(i,"size",i)},has(i){const o=this.__v_raw,s=F(o),c=F(i);return e||(dt(i,c)&&oe(s,"has",i),oe(s,"has",c)),i===c?o.has(i):o.has(i)||o.has(c)},forEach(i,o){const s=this,c=s.__v_raw,a=F(c),l=t?Zr:e?or:re;return!e&&oe(a,"iterate",Tt),c.forEach((u,h)=>i.call(o,l(u),l(h),s))}};return he(n,e?{add:Mn("add"),set:Mn("set"),delete:Mn("delete"),clear:Mn("clear")}:{add(i){!t&&!Pe(i)&&!pt(i)&&(i=F(i));const o=F(this);return Dn(o).has.call(o,i)||(o.add(i),tt(o,"add",i,i)),this},set(i,o){!t&&!Pe(o)&&!pt(o)&&(o=F(o));const s=F(this),{has:c,get:a}=Dn(s);let l=c.call(s,i);l||(i=F(i),l=c.call(s,i));const u=a.call(s,i);return s.set(i,o),l?dt(o,u)&&tt(s,"set",i,o):tt(s,"add",i,o),this},delete(i){const o=F(this),{has:s,get:c}=Dn(o);let a=s.call(o,i);a||(i=F(i),a=s.call(o,i)),c&&c.call(o,i);const l=o.delete(i);return a&&tt(o,"delete",i,void 0),l},clear(){const i=F(this),o=i.size!==0,s=i.clear();return o&&tt(i,"clear",void 0,void 0),s}}),["keys","values","entries",Symbol.iterator].forEach(i=>{n[i]=nl(i,e,t)}),n}function Ai(e,t){const n=rl(e,t);return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(H(n,i)&&i in r?n:r,i,o)}const il={get:Ai(!1,!1)},ol={get:Ai(!1,!0)},sl={get:Ai(!0,!1)};const Gs=new WeakMap,qs=new WeakMap,zs=new WeakMap,cl=new WeakMap;function al(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function ll(e){return e.__v_skip||!Object.isExtensible(e)?0:al(Ma(e))}function Ci(e){return pt(e)?e:xi(e,!1,Za,il,Gs)}function ul(e){return xi(e,!1,tl,ol,qs)}function Js(e){return xi(e,!0,el,sl,zs)}function xi(e,t,n,r,i){if(!J(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=ll(e);if(o===0)return e;const s=i.get(e);if(s)return s;const c=new Proxy(e,o===2?r:n);return i.set(e,c),c}function Lt(e){return pt(e)?Lt(e.__v_raw):!!(e&&e.__v_isReactive)}function pt(e){return!!(e&&e.__v_isReadonly)}function Pe(e){return!!(e&&e.__v_isShallow)}function Oi(e){return e?!!e.__v_raw:!1}function F(e){const t=e&&e.__v_raw;return t?F(t):e}function fl(e){return!H(e,"__v_skip")&&Object.isExtensible(e)&&Ns(e,"__v_skip",!0),e}const re=e=>J(e)?Ci(e):e,or=e=>J(e)?Js(e):e;function se(e){return e?e.__v_isRef===!0:!1}function Jt(e){return dl(e,!1)}function dl(e,t){return se(e)?e:new hl(e,t)}class hl{constructor(t,n){this.dep=new Ti,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:F(t),this._value=n?t:re(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||Pe(t)||pt(t);t=r?t:F(t),dt(t,n)&&(this._rawValue=t,this._value=r?t:re(t),this.dep.trigger())}}function pl(e){return se(e)?e.value:e}const gl={get:(e,t,n)=>t==="__v_raw"?e:pl(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return se(i)&&!se(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Ys(e){return Lt(e)?e:new Proxy(e,gl)}class yl{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new Ti(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=pn-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&G!==this)return Us(this,!0),!0}get value(){const t=this.dep.track();return Hs(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ml(e,t,n=!1){let r,i;return D(e)?r=e:(r=e.get,i=e.set),new yl(r,i,n)}const Ln={},sr=new WeakMap;let Et;function bl(e,t=!1,n=Et){if(n){let r=sr.get(n);r||sr.set(n,r=[]),r.push(e)}}function Sl(e,t,n=j){const{immediate:r,deep:i,once:o,scheduler:s,augmentJob:c,call:a}=n,l=x=>i?x:Pe(x)||i===!1||i===0?nt(x,1):nt(x);let u,h,g,p,v=!1,w=!1;if(se(e)?(h=()=>e.value,v=Pe(e)):Lt(e)?(h=()=>l(e),v=!0):N(e)?(w=!0,v=e.some(x=>Lt(x)||Pe(x)),h=()=>e.map(x=>{if(se(x))return x.value;if(Lt(x))return l(x);if(D(x))return a?a(x,2):x()})):D(e)?t?h=a?()=>a(e,2):e:h=()=>{if(g){it();try{g()}finally{ot()}}const x=Et;Et=u;try{return a?a(e,3,[p]):e(p)}finally{Et=x}}:h=Je,t&&i){const x=h,L=i===!0?1/0:i;h=()=>nt(x(),L)}const P=Ba(),k=()=>{u.stop(),P&&P.active&&Si(P.effects,u)};if(o&&t){const x=t;t=(...L)=>{x(...L),k()}}let U=w?new Array(e.length).fill(Ln):Ln;const K=x=>{if(!(!(u.flags&1)||!u.dirty&&!x))if(t){const L=u.run();if(i||v||(w?L.some((Ae,ce)=>dt(Ae,U[ce])):dt(L,U))){g&&g();const Ae=Et;Et=u;try{const ce=[L,U===Ln?void 0:w&&U[0]===Ln?[]:U,p];a?a(t,3,ce):t(...ce),U=L}finally{Et=Ae}}}else u.run()};return c&&c(K),u=new Ms(h),u.scheduler=s?()=>s(K,!1):K,p=x=>bl(x,!1,u),g=u.onStop=()=>{const x=sr.get(u);if(x){if(a)a(x,4);else for(const L of x)L();sr.delete(u)}},t?r?K(!0):U=u.run():s?s(K.bind(null,!0),!0):u.run(),k.pause=u.pause.bind(u),k.resume=u.resume.bind(u),k.stop=k,k}function nt(e,t=1/0,n){if(t<=0||!J(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,se(e))nt(e.value,t,n);else if(N(e))for(let r=0;r<e.length;r++)nt(e[r],t,n);else if(As(e)||Mt(e))e.forEach(r=>{nt(r,t,n)});else if(Os(e)){for(const r in e)nt(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&nt(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Cn(e,t,n,r){try{return r?e(...r):e()}catch(i){Er(i,t,n)}}function Ye(e,t,n,r){if(D(e)){const i=Cn(e,t,n,r);return i&&Cs(i)&&i.catch(o=>{Er(o,t,n)}),i}if(N(e)){const i=[];for(let o=0;o<e.length;o++)i.push(Ye(e[o],t,n,r));return i}}function Er(e,t,n,r=!0){const i=t?t.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=t&&t.appContext.config||j;if(t){let c=t.parent;const a=t.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;c;){const u=c.ec;if(u){for(let h=0;h<u.length;h++)if(u[h](e,a,l)===!1)return}c=c.parent}if(o){it(),Cn(o,null,10,[e,a,l]),ot();return}}vl(e,n,i,r,s)}function vl(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}const ue=[];let Ge=-1;const Ut=[];let lt=null,Pt=0;const Qs=Promise.resolve();let cr=null;function _l(e){const t=cr||Qs;return e?t.then(this?e.bind(this):e):t}function wl(e){let t=Ge+1,n=ue.length;for(;t<n;){const r=t+n>>>1,i=ue[r],o=yn(i);o<e||o===e&&i.flags&2?t=r+1:n=r}return t}function Ri(e){if(!(e.flags&1)){const t=yn(e),n=ue[ue.length-1];!n||!(e.flags&2)&&t>=yn(n)?ue.push(e):ue.splice(wl(t),0,e),e.flags|=1,Xs()}}function Xs(){cr||(cr=Qs.then(ec))}function Il(e){N(e)?Ut.push(...e):lt&&e.id===-1?lt.splice(Pt+1,0,e):e.flags&1||(Ut.push(e),e.flags|=1),Xs()}function no(e,t,n=Ge+1){for(;n<ue.length;n++){const r=ue[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;ue.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function Zs(e){if(Ut.length){const t=[...new Set(Ut)].sort((n,r)=>yn(n)-yn(r));if(Ut.length=0,lt){lt.push(...t);return}for(lt=t,Pt=0;Pt<lt.length;Pt++){const n=lt[Pt];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}lt=null,Pt=0}}const yn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ec(e){try{for(Ge=0;Ge<ue.length;Ge++){const t=ue[Ge];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),Cn(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ge<ue.length;Ge++){const t=ue[Ge];t&&(t.flags&=-2)}Ge=-1,ue.length=0,Zs(),cr=null,(ue.length||Ut.length)&&ec()}}let Ne=null,tc=null;function ar(e){const t=Ne;return Ne=e,tc=e&&e.type.__scopeId||null,t}function El(e,t=Ne,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&ho(-1);const o=ar(t);let s;try{s=e(...i)}finally{ar(o),r._d&&ho(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function ro(e,t){if(Ne===null)return e;const n=xr(Ne),r=e.dirs||(e.dirs=[]);for(let i=0;i<t.length;i++){let[o,s,c,a=j]=t[i];o&&(D(o)&&(o={mounted:o,updated:o}),o.deep&&nt(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:c,modifiers:a}))}return e}function wt(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const c=i[s];o&&(c.oldValue=o[s].value);let a=c.dir[r];a&&(it(),Ye(a,n,8,[e.el,c,e,t]),ot())}}const Tl=Symbol("_vte"),Al=e=>e.__isTeleport;function Ni(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Ni(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function nc(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function lr(e,t,n,r,i=!1){if(N(e)){e.forEach((v,w)=>lr(v,t&&(N(t)?t[w]:t),n,r,i));return}if(ln(r)&&!i){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&lr(e,t,n,r.component.subTree);return}const o=r.shapeFlag&4?xr(r.component):r.el,s=i?null:o,{i:c,r:a}=e,l=t&&t.r,u=c.refs===j?c.refs={}:c.refs,h=c.setupState,g=F(h),p=h===j?()=>!1:v=>H(g,v);if(l!=null&&l!==a&&(X(l)?(u[l]=null,p(l)&&(h[l]=null)):se(l)&&(l.value=null)),D(a))Cn(a,c,12,[s,u]);else{const v=X(a),w=se(a);if(v||w){const P=()=>{if(e.f){const k=v?p(a)?h[a]:u[a]:a.value;i?N(k)&&Si(k,o):N(k)?k.includes(o)||k.push(o):v?(u[a]=[o],p(a)&&(h[a]=u[a])):(a.value=[o],e.k&&(u[e.k]=a.value))}else v?(u[a]=s,p(a)&&(h[a]=s)):w&&(a.value=s,e.k&&(u[e.k]=s))};s?(P.id=-1,ve(P,n)):P()}}}_r().requestIdleCallback;_r().cancelIdleCallback;const ln=e=>!!e.type.__asyncLoader,rc=e=>e.type.__isKeepAlive;function Cl(e,t){ic(e,"a",t)}function xl(e,t){ic(e,"da",t)}function ic(e,t,n=fe){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Tr(t,r,n),n){let i=n.parent;for(;i&&i.parent;)rc(i.parent.vnode)&&Ol(r,t,n,i),i=i.parent}}function Ol(e,t,n,r){const i=Tr(t,e,r,!0);oc(()=>{Si(r[t],i)},n)}function Tr(e,t,n=fe,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{it();const c=xn(n),a=Ye(t,n,e,s);return c(),ot(),a});return r?i.unshift(o):i.push(o),o}}const st=e=>(t,n=fe)=>{(!bn||e==="sp")&&Tr(e,(...r)=>t(...r),n)},Rl=st("bm"),Nl=st("m"),Pl=st("bu"),kl=st("u"),Dl=st("bum"),oc=st("um"),Ml=st("sp"),Ll=st("rtg"),Ul=st("rtc");function Kl(e,t=fe){Tr("ec",e,t)}const Fl=Symbol.for("v-ndc");function Hl(e,t,n,r){let i;const o=n,s=N(e);if(s||X(e)){const c=s&&Lt(e);let a=!1,l=!1;c&&(a=!Pe(e),l=pt(e),e=Ir(e)),i=new Array(e.length);for(let u=0,h=e.length;u<h;u++)i[u]=t(a?l?or(re(e[u])):re(e[u]):e[u],u,void 0,o)}else if(typeof e=="number"){i=new Array(e);for(let c=0;c<e;c++)i[c]=t(c+1,c,void 0,o)}else if(J(e))if(e[Symbol.iterator])i=Array.from(e,(c,a)=>t(c,a,void 0,o));else{const c=Object.keys(e);i=new Array(c.length);for(let a=0,l=c.length;a<l;a++){const u=c[a];i[a]=t(e[u],u,a,o)}}else i=[];return i}const ei=e=>e?Tc(e)?xr(e):ei(e.parent):null,un=he(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ei(e.parent),$root:e=>ei(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>cc(e),$forceUpdate:e=>e.f||(e.f=()=>{Ri(e.update)}),$nextTick:e=>e.n||(e.n=_l.bind(e.proxy)),$watch:e=>au.bind(e)}),Fr=(e,t)=>e!==j&&!e.__isScriptSetup&&H(e,t),$l={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:c,appContext:a}=e;let l;if(t[0]!=="$"){const p=s[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(Fr(r,t))return s[t]=1,r[t];if(i!==j&&H(i,t))return s[t]=2,i[t];if((l=e.propsOptions[0])&&H(l,t))return s[t]=3,o[t];if(n!==j&&H(n,t))return s[t]=4,n[t];ti&&(s[t]=0)}}const u=un[t];let h,g;if(u)return t==="$attrs"&&oe(e.attrs,"get",""),u(e);if((h=c.__cssModules)&&(h=h[t]))return h;if(n!==j&&H(n,t))return s[t]=4,n[t];if(g=a.config.globalProperties,H(g,t))return g[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return Fr(i,t)?(i[t]=n,!0):r!==j&&H(r,t)?(r[t]=n,!0):H(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let c;return!!n[s]||e!==j&&H(e,s)||Fr(t,s)||(c=o[0])&&H(c,s)||H(r,s)||H(un,s)||H(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:H(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function io(e){return N(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let ti=!0;function Vl(e){const t=cc(e),n=e.proxy,r=e.ctx;ti=!1,t.beforeCreate&&oo(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:c,provide:a,inject:l,created:u,beforeMount:h,mounted:g,beforeUpdate:p,updated:v,activated:w,deactivated:P,beforeDestroy:k,beforeUnmount:U,destroyed:K,unmounted:x,render:L,renderTracked:Ae,renderTriggered:ce,errorCaptured:Ce,serverPrefetch:me,expose:Ue,inheritAttrs:bt,components:St,directives:Y,filters:ke}=t;if(l&&Wl(l,r,null),s)for(const z in s){const V=s[z];D(V)&&(r[z]=V.bind(n))}if(i){const z=i.call(n,n);J(z)&&(e.data=Ci(z))}if(ti=!0,o)for(const z in o){const V=o[z],Qe=D(V)?V.bind(n,n):D(V.get)?V.get.bind(n,n):Je,vt=!D(V)&&D(V.set)?V.set.bind(n):Je,Fe=Ru({get:Qe,set:vt});Object.defineProperty(r,z,{enumerable:!0,configurable:!0,get:()=>Fe.value,set:xe=>Fe.value=xe})}if(c)for(const z in c)sc(c[z],r,n,z);if(a){const z=D(a)?a.call(n):a;Reflect.ownKeys(z).forEach(V=>{Jl(V,z[V])})}u&&oo(u,e,"c");function ee(z,V){N(V)?V.forEach(Qe=>z(Qe.bind(n))):V&&z(V.bind(n))}if(ee(Rl,h),ee(Nl,g),ee(Pl,p),ee(kl,v),ee(Cl,w),ee(xl,P),ee(Kl,Ce),ee(Ul,Ae),ee(Ll,ce),ee(Dl,U),ee(oc,x),ee(Ml,me),N(Ue))if(Ue.length){const z=e.exposed||(e.exposed={});Ue.forEach(V=>{Object.defineProperty(z,V,{get:()=>n[V],set:Qe=>n[V]=Qe})})}else e.exposed||(e.exposed={});L&&e.render===Je&&(e.render=L),bt!=null&&(e.inheritAttrs=bt),St&&(e.components=St),Y&&(e.directives=Y),me&&nc(e)}function Wl(e,t,n=Je){N(e)&&(e=ni(e));for(const r in e){const i=e[r];let o;J(i)?"default"in i?o=qn(i.from||r,i.default,!0):o=qn(i.from||r):o=qn(i),se(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function oo(e,t,n){Ye(N(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function sc(e,t,n,r){let i=r.includes(".")?vc(n,r):()=>n[r];if(X(e)){const o=t[e];D(o)&&zn(i,o)}else if(D(e))zn(i,e.bind(n));else if(J(e))if(N(e))e.forEach(o=>sc(o,t,n,r));else{const o=D(e.handler)?e.handler.bind(n):t[e.handler];D(o)&&zn(i,o,e)}}function cc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,c=o.get(t);let a;return c?a=c:!i.length&&!n&&!r?a=t:(a={},i.length&&i.forEach(l=>ur(a,l,s,!0)),ur(a,t,s)),J(t)&&o.set(t,a),a}function ur(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&ur(e,o,n,!0),i&&i.forEach(s=>ur(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const c=jl[s]||n&&n[s];e[s]=c?c(e[s],t[s]):t[s]}return e}const jl={data:so,props:co,emits:co,methods:en,computed:en,beforeCreate:ae,created:ae,beforeMount:ae,mounted:ae,beforeUpdate:ae,updated:ae,beforeDestroy:ae,beforeUnmount:ae,destroyed:ae,unmounted:ae,activated:ae,deactivated:ae,errorCaptured:ae,serverPrefetch:ae,components:en,directives:en,watch:Gl,provide:so,inject:Bl};function so(e,t){return t?e?function(){return he(D(e)?e.call(this,this):e,D(t)?t.call(this,this):t)}:t:e}function Bl(e,t){return en(ni(e),ni(t))}function ni(e){if(N(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ae(e,t){return e?[...new Set([].concat(e,t))]:t}function en(e,t){return e?he(Object.create(null),e,t):t}function co(e,t){return e?N(e)&&N(t)?[...new Set([...e,...t])]:he(Object.create(null),io(e),io(t??{})):t}function Gl(e,t){if(!e)return t;if(!t)return e;const n=he(Object.create(null),e);for(const r in t)n[r]=ae(e[r],t[r]);return n}function ac(){return{app:null,config:{isNativeTag:ka,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ql=0;function zl(e,t){return function(r,i=null){D(r)||(r=he({},r)),i!=null&&!J(i)&&(i=null);const o=ac(),s=new WeakSet,c=[];let a=!1;const l=o.app={_uid:ql++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:Nu,get config(){return o.config},set config(u){},use(u,...h){return s.has(u)||(u&&D(u.install)?(s.add(u),u.install(l,...h)):D(u)&&(s.add(u),u(l,...h))),l},mixin(u){return o.mixins.includes(u)||o.mixins.push(u),l},component(u,h){return h?(o.components[u]=h,l):o.components[u]},directive(u,h){return h?(o.directives[u]=h,l):o.directives[u]},mount(u,h,g){if(!a){const p=l._ceVNode||At(r,i);return p.appContext=o,g===!0?g="svg":g===!1&&(g=void 0),e(p,u,g),a=!0,l._container=u,u.__vue_app__=l,xr(p.component)}},onUnmount(u){c.push(u)},unmount(){a&&(Ye(c,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(u,h){return o.provides[u]=h,l},runWithContext(u){const h=Kt;Kt=l;try{return u()}finally{Kt=h}}};return l}}let Kt=null;function Jl(e,t){if(fe){let n=fe.provides;const r=fe.parent&&fe.parent.provides;r===n&&(n=fe.provides=Object.create(r)),n[e]=t}}function qn(e,t,n=!1){const r=fe||Ne;if(r||Kt){const i=Kt?Kt._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&D(t)?t.call(r&&r.proxy):t}}const lc={},uc=()=>Object.create(lc),fc=e=>Object.getPrototypeOf(e)===lc;function Yl(e,t,n,r=!1){const i={},o=uc();e.propsDefaults=Object.create(null),dc(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:ul(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function Ql(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,c=F(i),[a]=e.propsOptions;let l=!1;if((r||s>0)&&!(s&16)){if(s&8){const u=e.vnode.dynamicProps;for(let h=0;h<u.length;h++){let g=u[h];if(Ar(e.emitsOptions,g))continue;const p=t[g];if(a)if(H(o,g))p!==o[g]&&(o[g]=p,l=!0);else{const v=ht(g);i[v]=ri(a,c,v,p,e,!1)}else p!==o[g]&&(o[g]=p,l=!0)}}}else{dc(e,t,i,o)&&(l=!0);let u;for(const h in c)(!t||!H(t,h)&&((u=yt(h))===h||!H(t,u)))&&(a?n&&(n[h]!==void 0||n[u]!==void 0)&&(i[h]=ri(a,c,h,void 0,e,!0)):delete i[h]);if(o!==c)for(const h in o)(!t||!H(t,h))&&(delete o[h],l=!0)}l&&tt(e.attrs,"set","")}function dc(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,c;if(t)for(let a in t){if(sn(a))continue;const l=t[a];let u;i&&H(i,u=ht(a))?!o||!o.includes(u)?n[u]=l:(c||(c={}))[u]=l:Ar(e.emitsOptions,a)||(!(a in r)||l!==r[a])&&(r[a]=l,s=!0)}if(o){const a=F(n),l=c||j;for(let u=0;u<o.length;u++){const h=o[u];n[h]=ri(i,a,h,l[h],e,!H(l,h))}}return s}function ri(e,t,n,r,i,o){const s=e[n];if(s!=null){const c=H(s,"default");if(c&&r===void 0){const a=s.default;if(s.type!==Function&&!s.skipFactory&&D(a)){const{propsDefaults:l}=i;if(n in l)r=l[n];else{const u=xn(i);r=l[n]=a.call(null,t),u()}}else r=a;i.ce&&i.ce._setProp(n,r)}s[0]&&(o&&!c?r=!1:s[1]&&(r===""||r===yt(n))&&(r=!0))}return r}const Xl=new WeakMap;function hc(e,t,n=!1){const r=n?Xl:t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},c=[];let a=!1;if(!D(e)){const u=h=>{a=!0;const[g,p]=hc(h,t,!0);he(s,g),p&&c.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}if(!o&&!a)return J(e)&&r.set(e,Dt),Dt;if(N(o))for(let u=0;u<o.length;u++){const h=ht(o[u]);ao(h)&&(s[h]=j)}else if(o)for(const u in o){const h=ht(u);if(ao(h)){const g=o[u],p=s[h]=N(g)||D(g)?{type:g}:he({},g),v=p.type;let w=!1,P=!0;if(N(v))for(let k=0;k<v.length;++k){const U=v[k],K=D(U)&&U.name;if(K==="Boolean"){w=!0;break}else K==="String"&&(P=!1)}else w=D(v)&&v.name==="Boolean";p[0]=w,p[1]=P,(w||H(p,"default"))&&c.push(h)}}const l=[s,c];return J(e)&&r.set(e,l),l}function ao(e){return e[0]!=="$"&&!sn(e)}const Pi=e=>e[0]==="_"||e==="$stable",ki=e=>N(e)?e.map(ze):[ze(e)],Zl=(e,t,n)=>{if(t._n)return t;const r=El((...i)=>ki(t(...i)),n);return r._c=!1,r},pc=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Pi(i))continue;const o=e[i];if(D(o))t[i]=Zl(i,o,r);else if(o!=null){const s=ki(o);t[i]=()=>s}}},gc=(e,t)=>{const n=ki(t);e.slots.default=()=>n},yc=(e,t,n)=>{for(const r in t)(n||!Pi(r))&&(e[r]=t[r])},eu=(e,t,n)=>{const r=e.slots=uc();if(e.vnode.shapeFlag&32){const i=t._;i?(yc(r,t,n),n&&Ns(r,"_",i,!0)):pc(t,r)}else t&&gc(e,t)},tu=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=j;if(r.shapeFlag&32){const c=t._;c?n&&c===1?o=!1:yc(i,t,n):(o=!t.$stable,pc(t,i)),s=t}else t&&(gc(e,t),s={default:1});if(o)for(const c in i)!Pi(c)&&s[c]==null&&delete i[c]},ve=gu;function nu(e){return ru(e)}function ru(e,t){const n=_r();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:c,createComment:a,setText:l,setElementText:u,parentNode:h,nextSibling:g,setScopeId:p=Je,insertStaticContent:v}=e,w=(f,d,y,b=null,m=null,S=null,T=void 0,E=null,I=!!d.dynamicChildren)=>{if(f===d)return;f&&!Yt(f,d)&&(b=_t(f),xe(f,m,S,!0),f=null),d.patchFlag===-2&&(I=!1,d.dynamicChildren=null);const{type:_,ref:O,shapeFlag:A}=d;switch(_){case Cr:P(f,d,y,b);break;case $t:k(f,d,y,b);break;case $r:f==null&&U(d,y,b,T);break;case qe:St(f,d,y,b,m,S,T,E,I);break;default:A&1?L(f,d,y,b,m,S,T,E,I):A&6?Y(f,d,y,b,m,S,T,E,I):(A&64||A&128)&&_.process(f,d,y,b,m,S,T,E,I,W)}O!=null&&m&&lr(O,f&&f.ref,S,d||f,!d)},P=(f,d,y,b)=>{if(f==null)r(d.el=c(d.children),y,b);else{const m=d.el=f.el;d.children!==f.children&&l(m,d.children)}},k=(f,d,y,b)=>{f==null?r(d.el=a(d.children||""),y,b):d.el=f.el},U=(f,d,y,b)=>{[f.el,f.anchor]=v(f.children,d,y,b,f.el,f.anchor)},K=({el:f,anchor:d},y,b)=>{let m;for(;f&&f!==d;)m=g(f),r(f,y,b),f=m;r(d,y,b)},x=({el:f,anchor:d})=>{let y;for(;f&&f!==d;)y=g(f),i(f),f=y;i(d)},L=(f,d,y,b,m,S,T,E,I)=>{d.type==="svg"?T="svg":d.type==="math"&&(T="mathml"),f==null?Ae(d,y,b,m,S,T,E,I):me(f,d,m,S,T,E,I)},Ae=(f,d,y,b,m,S,T,E)=>{let I,_;const{props:O,shapeFlag:A,transition:C,dirs:R}=f;if(I=f.el=s(f.type,S,O&&O.is,O),A&8?u(I,f.children):A&16&&Ce(f.children,I,null,b,m,Hr(f,S),T,E),R&&wt(f,null,b,"created"),ce(I,f,f.scopeId,T,b),O){for(const B in O)B!=="value"&&!sn(B)&&o(I,B,null,O[B],S,b);"value"in O&&o(I,"value",null,O.value,S),(_=O.onVnodeBeforeMount)&&We(_,b,f)}R&&wt(f,null,b,"beforeMount");const M=iu(m,C);M&&C.beforeEnter(I),r(I,d,y),((_=O&&O.onVnodeMounted)||M||R)&&ve(()=>{_&&We(_,b,f),M&&C.enter(I),R&&wt(f,null,b,"mounted")},m)},ce=(f,d,y,b,m)=>{if(y&&p(f,y),b)for(let S=0;S<b.length;S++)p(f,b[S]);if(m){let S=m.subTree;if(d===S||wc(S.type)&&(S.ssContent===d||S.ssFallback===d)){const T=m.vnode;ce(f,T,T.scopeId,T.slotScopeIds,m.parent)}}},Ce=(f,d,y,b,m,S,T,E,I=0)=>{for(let _=I;_<f.length;_++){const O=f[_]=E?ut(f[_]):ze(f[_]);w(null,O,d,y,b,m,S,T,E)}},me=(f,d,y,b,m,S,T)=>{const E=d.el=f.el;let{patchFlag:I,dynamicChildren:_,dirs:O}=d;I|=f.patchFlag&16;const A=f.props||j,C=d.props||j;let R;if(y&&It(y,!1),(R=C.onVnodeBeforeUpdate)&&We(R,y,d,f),O&&wt(d,f,y,"beforeUpdate"),y&&It(y,!0),(A.innerHTML&&C.innerHTML==null||A.textContent&&C.textContent==null)&&u(E,""),_?Ue(f.dynamicChildren,_,E,y,b,Hr(d,m),S):T||V(f,d,E,null,y,b,Hr(d,m),S,!1),I>0){if(I&16)bt(E,A,C,y,m);else if(I&2&&A.class!==C.class&&o(E,"class",null,C.class,m),I&4&&o(E,"style",A.style,C.style,m),I&8){const M=d.dynamicProps;for(let B=0;B<M.length;B++){const $=M[B],be=A[$],pe=C[$];(pe!==be||$==="value")&&o(E,$,be,pe,m,y)}}I&1&&f.children!==d.children&&u(E,d.children)}else!T&&_==null&&bt(E,A,C,y,m);((R=C.onVnodeUpdated)||O)&&ve(()=>{R&&We(R,y,d,f),O&&wt(d,f,y,"updated")},b)},Ue=(f,d,y,b,m,S,T)=>{for(let E=0;E<d.length;E++){const I=f[E],_=d[E],O=I.el&&(I.type===qe||!Yt(I,_)||I.shapeFlag&70)?h(I.el):y;w(I,_,O,null,b,m,S,T,!0)}},bt=(f,d,y,b,m)=>{if(d!==y){if(d!==j)for(const S in d)!sn(S)&&!(S in y)&&o(f,S,d[S],null,m,b);for(const S in y){if(sn(S))continue;const T=y[S],E=d[S];T!==E&&S!=="value"&&o(f,S,E,T,m,b)}"value"in y&&o(f,"value",d.value,y.value,m)}},St=(f,d,y,b,m,S,T,E,I)=>{const _=d.el=f?f.el:c(""),O=d.anchor=f?f.anchor:c("");let{patchFlag:A,dynamicChildren:C,slotScopeIds:R}=d;R&&(E=E?E.concat(R):R),f==null?(r(_,y,b),r(O,y,b),Ce(d.children||[],y,O,m,S,T,E,I)):A>0&&A&64&&C&&f.dynamicChildren?(Ue(f.dynamicChildren,C,y,m,S,T,E),(d.key!=null||m&&d===m.subTree)&&mc(f,d,!0)):V(f,d,y,O,m,S,T,E,I)},Y=(f,d,y,b,m,S,T,E,I)=>{d.slotScopeIds=E,f==null?d.shapeFlag&512?m.ctx.activate(d,y,b,T,I):ke(d,y,b,m,S,T,I):Ke(f,d,I)},ke=(f,d,y,b,m,S,T)=>{const E=f.component=Eu(f,b,m);if(rc(f)&&(E.ctx.renderer=W),Tu(E,!1,T),E.asyncDep){if(m&&m.registerDep(E,ee,T),!f.el){const I=E.subTree=At($t);k(null,I,d,y)}}else ee(E,f,d,y,m,S,T)},Ke=(f,d,y)=>{const b=d.component=f.component;if(hu(f,d,y))if(b.asyncDep&&!b.asyncResolved){z(b,d,y);return}else b.next=d,b.update();else d.el=f.el,b.vnode=d},ee=(f,d,y,b,m,S,T)=>{const E=()=>{if(f.isMounted){let{next:A,bu:C,u:R,parent:M,vnode:B}=f;{const $e=bc(f);if($e){A&&(A.el=B.el,z(f,A,T)),$e.asyncDep.then(()=>{f.isUnmounted||E()});return}}let $=A,be;It(f,!1),A?(A.el=B.el,z(f,A,T)):A=B,C&&Gn(C),(be=A.props&&A.props.onVnodeBeforeUpdate)&&We(be,M,A,B),It(f,!0);const pe=uo(f),He=f.subTree;f.subTree=pe,w(He,pe,h(He.el),_t(He),f,m,S),A.el=pe.el,$===null&&pu(f,pe.el),R&&ve(R,m),(be=A.props&&A.props.onVnodeUpdated)&&ve(()=>We(be,M,A,B),m)}else{let A;const{el:C,props:R}=d,{bm:M,m:B,parent:$,root:be,type:pe}=f,He=ln(d);It(f,!1),M&&Gn(M),!He&&(A=R&&R.onVnodeBeforeMount)&&We(A,$,d),It(f,!0);{be.ce&&be.ce._injectChildStyle(pe);const $e=f.subTree=uo(f);w(null,$e,y,b,f,m,S),d.el=$e.el}if(B&&ve(B,m),!He&&(A=R&&R.onVnodeMounted)){const $e=d;ve(()=>We(A,$,$e),m)}(d.shapeFlag&256||$&&ln($.vnode)&&$.vnode.shapeFlag&256)&&f.a&&ve(f.a,m),f.isMounted=!0,d=y=b=null}};f.scope.on();const I=f.effect=new Ms(E);f.scope.off();const _=f.update=I.run.bind(I),O=f.job=I.runIfDirty.bind(I);O.i=f,O.id=f.uid,I.scheduler=()=>Ri(O),It(f,!0),_()},z=(f,d,y)=>{d.component=f;const b=f.vnode.props;f.vnode=d,f.next=null,Ql(f,d.props,b,y),tu(f,d.children,y),it(),no(f),ot()},V=(f,d,y,b,m,S,T,E,I=!1)=>{const _=f&&f.children,O=f?f.shapeFlag:0,A=d.children,{patchFlag:C,shapeFlag:R}=d;if(C>0){if(C&128){vt(_,A,y,b,m,S,T,E,I);return}else if(C&256){Qe(_,A,y,b,m,S,T,E,I);return}}R&8?(O&16&&ct(_,m,S),A!==_&&u(y,A)):O&16?R&16?vt(_,A,y,b,m,S,T,E,I):ct(_,m,S,!0):(O&8&&u(y,""),R&16&&Ce(A,y,b,m,S,T,E,I))},Qe=(f,d,y,b,m,S,T,E,I)=>{f=f||Dt,d=d||Dt;const _=f.length,O=d.length,A=Math.min(_,O);let C;for(C=0;C<A;C++){const R=d[C]=I?ut(d[C]):ze(d[C]);w(f[C],R,y,null,m,S,T,E,I)}_>O?ct(f,m,S,!0,!1,A):Ce(d,y,b,m,S,T,E,I,A)},vt=(f,d,y,b,m,S,T,E,I)=>{let _=0;const O=d.length;let A=f.length-1,C=O-1;for(;_<=A&&_<=C;){const R=f[_],M=d[_]=I?ut(d[_]):ze(d[_]);if(Yt(R,M))w(R,M,y,null,m,S,T,E,I);else break;_++}for(;_<=A&&_<=C;){const R=f[A],M=d[C]=I?ut(d[C]):ze(d[C]);if(Yt(R,M))w(R,M,y,null,m,S,T,E,I);else break;A--,C--}if(_>A){if(_<=C){const R=C+1,M=R<O?d[R].el:b;for(;_<=C;)w(null,d[_]=I?ut(d[_]):ze(d[_]),y,M,m,S,T,E,I),_++}}else if(_>C)for(;_<=A;)xe(f[_],m,S,!0),_++;else{const R=_,M=_,B=new Map;for(_=M;_<=C;_++){const Se=d[_]=I?ut(d[_]):ze(d[_]);Se.key!=null&&B.set(Se.key,_)}let $,be=0;const pe=C-M+1;let He=!1,$e=0;const qt=new Array(pe);for(_=0;_<pe;_++)qt[_]=0;for(_=R;_<=A;_++){const Se=f[_];if(be>=pe){xe(Se,m,S,!0);continue}let Ve;if(Se.key!=null)Ve=B.get(Se.key);else for($=M;$<=C;$++)if(qt[$-M]===0&&Yt(Se,d[$])){Ve=$;break}Ve===void 0?xe(Se,m,S,!0):(qt[Ve-M]=_+1,Ve>=$e?$e=Ve:He=!0,w(Se,d[Ve],y,null,m,S,T,E,I),be++)}const Qi=He?ou(qt):Dt;for($=Qi.length-1,_=pe-1;_>=0;_--){const Se=M+_,Ve=d[Se],Xi=Se+1<O?d[Se+1].el:b;qt[_]===0?w(null,Ve,y,Xi,m,S,T,E,I):He&&($<0||_!==Qi[$]?Fe(Ve,y,Xi,2):$--)}}},Fe=(f,d,y,b,m=null)=>{const{el:S,type:T,transition:E,children:I,shapeFlag:_}=f;if(_&6){Fe(f.component.subTree,d,y,b);return}if(_&128){f.suspense.move(d,y,b);return}if(_&64){T.move(f,d,y,W);return}if(T===qe){r(S,d,y);for(let A=0;A<I.length;A++)Fe(I[A],d,y,b);r(f.anchor,d,y);return}if(T===$r){K(f,d,y);return}if(b!==2&&_&1&&E)if(b===0)E.beforeEnter(S),r(S,d,y),ve(()=>E.enter(S),m);else{const{leave:A,delayLeave:C,afterLeave:R}=E,M=()=>{f.ctx.isUnmounted?i(S):r(S,d,y)},B=()=>{A(S,()=>{M(),R&&R()})};C?C(S,M,B):B()}else r(S,d,y)},xe=(f,d,y,b=!1,m=!1)=>{const{type:S,props:T,ref:E,children:I,dynamicChildren:_,shapeFlag:O,patchFlag:A,dirs:C,cacheIndex:R}=f;if(A===-2&&(m=!1),E!=null&&(it(),lr(E,null,y,f,!0),ot()),R!=null&&(d.renderCache[R]=void 0),O&256){d.ctx.deactivate(f);return}const M=O&1&&C,B=!ln(f);let $;if(B&&($=T&&T.onVnodeBeforeUnmount)&&We($,d,f),O&6)kn(f.component,y,b);else{if(O&128){f.suspense.unmount(y,b);return}M&&wt(f,null,d,"beforeUnmount"),O&64?f.type.remove(f,d,y,W,b):_&&!_.hasOnce&&(S!==qe||A>0&&A&64)?ct(_,d,y,!1,!0):(S===qe&&A&384||!m&&O&16)&&ct(I,d,y),b&&Nn(f)}(B&&($=T&&T.onVnodeUnmounted)||M)&&ve(()=>{$&&We($,d,f),M&&wt(f,null,d,"unmounted")},y)},Nn=f=>{const{type:d,el:y,anchor:b,transition:m}=f;if(d===qe){Pn(y,b);return}if(d===$r){x(f);return}const S=()=>{i(y),m&&!m.persisted&&m.afterLeave&&m.afterLeave()};if(f.shapeFlag&1&&m&&!m.persisted){const{leave:T,delayLeave:E}=m,I=()=>T(y,S);E?E(f.el,S,I):I()}else S()},Pn=(f,d)=>{let y;for(;f!==d;)y=g(f),i(f),f=y;i(d)},kn=(f,d,y)=>{const{bum:b,scope:m,job:S,subTree:T,um:E,m:I,a:_,parent:O,slots:{__:A}}=f;lo(I),lo(_),b&&Gn(b),O&&N(A)&&A.forEach(C=>{O.renderCache[C]=void 0}),m.stop(),S&&(S.flags|=8,xe(T,f,d,y)),E&&ve(E,d),ve(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},ct=(f,d,y,b=!1,m=!1,S=0)=>{for(let T=S;T<f.length;T++)xe(f[T],d,y,b,m)},_t=f=>{if(f.shapeFlag&6)return _t(f.component.subTree);if(f.shapeFlag&128)return f.suspense.next();const d=g(f.anchor||f.el),y=d&&d[Tl];return y?g(y):d};let Rt=!1;const Gt=(f,d,y)=>{f==null?d._vnode&&xe(d._vnode,null,null,!0):w(d._vnode||null,f,d,null,null,null,y),d._vnode=f,Rt||(Rt=!0,no(),Zs(),Rt=!1)},W={p:w,um:xe,m:Fe,r:Nn,mt:ke,mc:Ce,pc:V,pbc:Ue,n:_t,o:e};return{render:Gt,hydrate:void 0,createApp:zl(Gt)}}function Hr({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function It({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function iu(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function mc(e,t,n=!1){const r=e.children,i=t.children;if(N(r)&&N(i))for(let o=0;o<r.length;o++){const s=r[o];let c=i[o];c.shapeFlag&1&&!c.dynamicChildren&&((c.patchFlag<=0||c.patchFlag===32)&&(c=i[o]=ut(i[o]),c.el=s.el),!n&&c.patchFlag!==-2&&mc(s,c)),c.type===Cr&&(c.el=s.el),c.type===$t&&!c.el&&(c.el=s.el)}}function ou(e){const t=e.slice(),n=[0];let r,i,o,s,c;const a=e.length;for(r=0;r<a;r++){const l=e[r];if(l!==0){if(i=n[n.length-1],e[i]<l){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)c=o+s>>1,e[n[c]]<l?o=c+1:s=c;l<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}function bc(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bc(t)}function lo(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const su=Symbol.for("v-scx"),cu=()=>qn(su);function zn(e,t,n){return Sc(e,t,n)}function Sc(e,t,n=j){const{immediate:r,deep:i,flush:o,once:s}=n,c=he({},n),a=t&&r||!t&&o!=="post";let l;if(bn){if(o==="sync"){const p=cu();l=p.__watcherHandles||(p.__watcherHandles=[])}else if(!a){const p=()=>{};return p.stop=Je,p.resume=Je,p.pause=Je,p}}const u=fe;c.call=(p,v,w)=>Ye(p,u,v,w);let h=!1;o==="post"?c.scheduler=p=>{ve(p,u&&u.suspense)}:o!=="sync"&&(h=!0,c.scheduler=(p,v)=>{v?p():Ri(p)}),c.augmentJob=p=>{t&&(p.flags|=4),h&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const g=Sl(e,t,c);return bn&&(l?l.push(g):a&&g()),g}function au(e,t,n){const r=this.proxy,i=X(e)?e.includes(".")?vc(r,e):()=>r[e]:e.bind(r,r);let o;D(t)?o=t:(o=t.handler,n=t);const s=xn(this),c=Sc(i,o.bind(r),n);return s(),c}function vc(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}const lu=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${ht(t)}Modifiers`]||e[`${yt(t)}Modifiers`];function uu(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||j;let i=n;const o=t.startsWith("update:"),s=o&&lu(r,t.slice(7));s&&(s.trim&&(i=n.map(u=>X(u)?u.trim():u)),s.number&&(i=n.map(Jr)));let c,a=r[c=Dr(t)]||r[c=Dr(ht(t))];!a&&o&&(a=r[c=Dr(yt(t))]),a&&Ye(a,e,6,i);const l=r[c+"Once"];if(l){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,Ye(l,e,6,i)}}function _c(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},c=!1;if(!D(e)){const a=l=>{const u=_c(l,t,!0);u&&(c=!0,he(s,u))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return!o&&!c?(J(e)&&r.set(e,null),null):(N(o)?o.forEach(a=>s[a]=null):he(s,o),J(e)&&r.set(e,s),s)}function Ar(e,t){return!e||!br(t)?!1:(t=t.slice(2).replace(/Once$/,""),H(e,t[0].toLowerCase()+t.slice(1))||H(e,yt(t))||H(e,t))}function uo(e){const{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[o],slots:s,attrs:c,emit:a,render:l,renderCache:u,props:h,data:g,setupState:p,ctx:v,inheritAttrs:w}=e,P=ar(e);let k,U;try{if(n.shapeFlag&4){const x=i||r,L=x;k=ze(l.call(L,x,u,h,p,g,v)),U=c}else{const x=t;k=ze(x.length>1?x(h,{attrs:c,slots:s,emit:a}):x(h,null)),U=t.props?c:fu(c)}}catch(x){fn.length=0,Er(x,e,1),k=At($t)}let K=k;if(U&&w!==!1){const x=Object.keys(U),{shapeFlag:L}=K;x.length&&L&7&&(o&&x.some(bi)&&(U=du(U,o)),K=Vt(K,U,!1,!0))}return n.dirs&&(K=Vt(K,null,!1,!0),K.dirs=K.dirs?K.dirs.concat(n.dirs):n.dirs),n.transition&&Ni(K,n.transition),k=K,ar(P),k}const fu=e=>{let t;for(const n in e)(n==="class"||n==="style"||br(n))&&((t||(t={}))[n]=e[n]);return t},du=(e,t)=>{const n={};for(const r in e)(!bi(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function hu(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:c,patchFlag:a}=t,l=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return r?fo(r,s,l):!!s;if(a&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const g=u[h];if(s[g]!==r[g]&&!Ar(l,g))return!0}}}else return(i||c)&&(!c||!c.$stable)?!0:r===s?!1:r?s?fo(r,s,l):!0:!!s;return!1}function fo(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Ar(n,o))return!0}return!1}function pu({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const wc=e=>e.__isSuspense;function gu(e,t){t&&t.pendingBranch?N(e)?t.effects.push(...e):t.effects.push(e):Il(e)}const qe=Symbol.for("v-fgt"),Cr=Symbol.for("v-txt"),$t=Symbol.for("v-cmt"),$r=Symbol.for("v-stc"),fn=[];let Ie=null;function Un(e=!1){fn.push(Ie=e?null:[])}function yu(){fn.pop(),Ie=fn[fn.length-1]||null}let mn=1;function ho(e,t=!1){mn+=e,e<0&&Ie&&t&&(Ie.hasOnce=!0)}function mu(e){return e.dynamicChildren=mn>0?Ie||Dt:null,yu(),mn>0&&Ie&&Ie.push(e),e}function Kn(e,t,n,r,i,o){return mu(ne(e,t,n,r,i,o,!0))}function Ic(e){return e?e.__v_isVNode===!0:!1}function Yt(e,t){return e.type===t.type&&e.key===t.key}const Ec=({key:e})=>e??null,Jn=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?X(e)||se(e)||D(e)?{i:Ne,r:e,k:t,f:!!n}:e:null);function ne(e,t=null,n=null,r=0,i=null,o=e===qe?0:1,s=!1,c=!1){const a={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ec(t),ref:t&&Jn(t),scopeId:tc,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Ne};return c?(Di(a,n),o&128&&e.normalize(a)):n&&(a.shapeFlag|=X(n)?8:16),mn>0&&!s&&Ie&&(a.patchFlag>0||o&6)&&a.patchFlag!==32&&Ie.push(a),a}const At=bu;function bu(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Fl)&&(e=$t),Ic(e)){const c=Vt(e,t,!0);return n&&Di(c,n),mn>0&&!o&&Ie&&(c.shapeFlag&6?Ie[Ie.indexOf(e)]=c:Ie.push(c)),c.patchFlag=-2,c}if(Ou(e)&&(e=e.__vccOpts),t){t=Su(t);let{class:c,style:a}=t;c&&!X(c)&&(t.class=wr(c)),J(a)&&(Oi(a)&&!N(a)&&(a=he({},a)),t.style=_i(a))}const s=X(e)?1:wc(e)?128:Al(e)?64:J(e)?4:D(e)?2:0;return ne(e,t,n,r,i,s,o,!0)}function Su(e){return e?Oi(e)||fc(e)?he({},e):e:null}function Vt(e,t,n=!1,r=!1){const{props:i,ref:o,patchFlag:s,children:c,transition:a}=e,l=t?_u(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&Ec(l),ref:t&&t.ref?n&&o?N(o)?o.concat(Jn(t)):[o,Jn(t)]:Jn(t):o,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:c,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==qe?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:a,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Vt(e.ssContent),ssFallback:e.ssFallback&&Vt(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return a&&r&&Ni(u,a.clone(u)),u}function vu(e=" ",t=0){return At(Cr,null,e,t)}function ze(e){return e==null||typeof e=="boolean"?At($t):N(e)?At(qe,null,e.slice()):Ic(e)?ut(e):At(Cr,null,String(e))}function ut(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Vt(e)}function Di(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(N(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Di(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!fc(t)?t._ctx=Ne:i===3&&Ne&&(Ne.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else D(t)?(t={default:t,_ctx:Ne},n=32):(t=String(t),r&64?(n=16,t=[vu(t)]):n=8);e.children=t,e.shapeFlag|=n}function _u(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=wr([t.class,r.class]));else if(i==="style")t.style=_i([t.style,r.style]);else if(br(i)){const o=t[i],s=r[i];s&&o!==s&&!(N(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function We(e,t,n,r=null){Ye(e,t,7,[n,r])}const wu=ac();let Iu=0;function Eu(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||wu,o={uid:Iu++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new ja(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hc(r,i),emitsOptions:_c(r,i),emit:null,emitted:null,propsDefaults:j,inheritAttrs:r.inheritAttrs,ctx:j,data:j,props:j,attrs:j,slots:j,refs:j,setupState:j,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=uu.bind(null,o),e.ce&&e.ce(o),o}let fe=null,fr,ii;{const e=_r(),t=(n,r)=>{let i;return(i=e[n])||(i=e[n]=[]),i.push(r),o=>{i.length>1?i.forEach(s=>s(o)):i[0](o)}};fr=t("__VUE_INSTANCE_SETTERS__",n=>fe=n),ii=t("__VUE_SSR_SETTERS__",n=>bn=n)}const xn=e=>{const t=fe;return fr(e),e.scope.on(),()=>{e.scope.off(),fr(t)}},po=()=>{fe&&fe.scope.off(),fr(null)};function Tc(e){return e.vnode.shapeFlag&4}let bn=!1;function Tu(e,t=!1,n=!1){t&&ii(t);const{props:r,children:i}=e.vnode,o=Tc(e);Yl(e,r,o,t),eu(e,i,n||t);const s=o?Au(e,t):void 0;return t&&ii(!1),s}function Au(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,$l);const{setup:r}=n;if(r){it();const i=e.setupContext=r.length>1?xu(e):null,o=xn(e),s=Cn(r,e,0,[e.props,i]),c=Cs(s);if(ot(),o(),(c||e.sp)&&!ln(e)&&nc(e),c){if(s.then(po,po),t)return s.then(a=>{go(e,a)}).catch(a=>{Er(a,e,0)});e.asyncDep=s}else go(e,s)}else Ac(e)}function go(e,t,n){D(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:J(t)&&(e.setupState=Ys(t)),Ac(e)}function Ac(e,t,n){const r=e.type;e.render||(e.render=r.render||Je);{const i=xn(e);it();try{Vl(e)}finally{ot(),i()}}}const Cu={get(e,t){return oe(e,"get",""),e[t]}};function xu(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Cu),slots:e.slots,emit:e.emit,expose:t}}function xr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Ys(fl(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in un)return un[n](e)},has(t,n){return n in t||n in un}})):e.proxy}function Ou(e){return D(e)&&"__vccOpts"in e}const Ru=(e,t)=>ml(e,t,bn),Nu="3.5.14";/**
* @vue/runtime-dom v3.5.14
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let oi;const yo=typeof window<"u"&&window.trustedTypes;if(yo)try{oi=yo.createPolicy("vue",{createHTML:e=>e})}catch{}const Cc=oi?e=>oi.createHTML(e):e=>e,Pu="http://www.w3.org/2000/svg",ku="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,mo=Ze&&Ze.createElement("template"),Du={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t==="svg"?Ze.createElementNS(Pu,e):t==="mathml"?Ze.createElementNS(ku,e):n?Ze.createElement(e,{is:n}):Ze.createElement(e);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Ze.createTextNode(e),createComment:e=>Ze.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ze.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{mo.innerHTML=Cc(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const c=mo.content;if(r==="svg"||r==="mathml"){const a=c.firstChild;for(;a.firstChild;)c.appendChild(a.firstChild);c.removeChild(a)}t.insertBefore(c,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Mu=Symbol("_vtc");function Lu(e,t,n){const r=e[Mu];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const bo=Symbol("_vod"),Uu=Symbol("_vsh"),Ku=Symbol(""),Fu=/(^|;)\s*display\s*:/;function Hu(e,t,n){const r=e.style,i=X(n);let o=!1;if(n&&!i){if(t)if(X(t))for(const s of t.split(";")){const c=s.slice(0,s.indexOf(":")).trim();n[c]==null&&Yn(r,c,"")}else for(const s in t)n[s]==null&&Yn(r,s,"");for(const s in n)s==="display"&&(o=!0),Yn(r,s,n[s])}else if(i){if(t!==n){const s=r[Ku];s&&(n+=";"+s),r.cssText=n,o=Fu.test(n)}}else t&&e.removeAttribute("style");bo in e&&(e[bo]=o?r.display:"",e[Uu]&&(r.display="none"))}const So=/\s*!important$/;function Yn(e,t,n){if(N(n))n.forEach(r=>Yn(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=$u(e,t);So.test(n)?e.setProperty(yt(r),n.replace(So,""),"important"):e[r]=n}}const vo=["Webkit","Moz","ms"],Vr={};function $u(e,t){const n=Vr[t];if(n)return n;let r=ht(t);if(r!=="filter"&&r in e)return Vr[t]=r;r=Rs(r);for(let i=0;i<vo.length;i++){const o=vo[i]+r;if(o in e)return Vr[t]=o}return t}const _o="http://www.w3.org/1999/xlink";function wo(e,t,n,r,i,o=Wa(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS(_o,t.slice(6,t.length)):e.setAttributeNS(_o,t,n):n==null||o&&!Ps(n)?e.removeAttribute(t):e.setAttribute(t,o?"":gt(n)?String(n):n)}function Io(e,t,n,r,i){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?Cc(n):n);return}const o=e.tagName;if(t==="value"&&o!=="PROGRESS"&&!o.includes("-")){const c=o==="OPTION"?e.getAttribute("value")||"":e.value,a=n==null?e.type==="checkbox"?"on":"":String(n);(c!==a||!("_value"in e))&&(e.value=a),n==null&&e.removeAttribute(t),e._value=n;return}let s=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=Ps(n):n==null&&c==="string"?(n="",s=!0):c==="number"&&(n=0,s=!0)}try{e[t]=n}catch{}s&&e.removeAttribute(i||t)}function kt(e,t,n,r){e.addEventListener(t,n,r)}function Vu(e,t,n,r){e.removeEventListener(t,n,r)}const Eo=Symbol("_vei");function Wu(e,t,n,r,i=null){const o=e[Eo]||(e[Eo]={}),s=o[t];if(r&&s)s.value=r;else{const[c,a]=ju(t);if(r){const l=o[t]=qu(r,i);kt(e,c,l,a)}else s&&(Vu(e,c,s,a),o[t]=void 0)}}const To=/(?:Once|Passive|Capture)$/;function ju(e){let t;if(To.test(e)){t={};let r;for(;r=e.match(To);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):yt(e.slice(2)),t]}let Wr=0;const Bu=Promise.resolve(),Gu=()=>Wr||(Bu.then(()=>Wr=0),Wr=Date.now());function qu(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ye(zu(r,n.value),t,5,[r])};return n.value=e,n.attached=Gu(),n}function zu(e,t){if(N(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const Ao=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Ju=(e,t,n,r,i,o)=>{const s=i==="svg";t==="class"?Lu(e,r,s):t==="style"?Hu(e,n,r):br(t)?bi(t)||Wu(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Yu(e,t,r,s))?(Io(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&wo(e,t,r,s,o,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!X(r))?Io(e,ht(t),r,o,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),wo(e,t,r,s))};function Yu(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ao(t)&&D(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="autocorrect"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=e.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return Ao(t)&&X(n)?!1:t in e}const Co=e=>{const t=e.props["onUpdate:modelValue"]||!1;return N(t)?n=>Gn(t,n):t};function Qu(e){e.target.composing=!0}function xo(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const jr=Symbol("_assign"),Oo={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[jr]=Co(i);const o=r||i.props&&i.props.type==="number";kt(e,t?"change":"input",s=>{if(s.target.composing)return;let c=e.value;n&&(c=c.trim()),o&&(c=Jr(c)),e[jr](c)}),n&&kt(e,"change",()=>{e.value=e.value.trim()}),t||(kt(e,"compositionstart",Qu),kt(e,"compositionend",xo),kt(e,"change",xo))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:o}},s){if(e[jr]=Co(s),e.composing)return;const c=(o||e.type==="number")&&!/^0\d/.test(e.value)?Jr(e.value):e.value,a=t??"";c!==a&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||i&&e.value.trim()===a)||(e.value=a))}},Xu={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ro=(e,t)=>{const n=e._withKeys||(e._withKeys={}),r=t.join(".");return n[r]||(n[r]=i=>{if(!("key"in i))return;const o=yt(i.key);if(t.some(s=>s===o||Xu[s]===o))return e(i)})},Zu=he({patchProp:Ju},Du);let No;function ef(){return No||(No=nu(Zu))}const tf=(...e)=>{const t=ef().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=rf(r);if(!i)return;const o=t._component;!D(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const s=n(i,!1,nf(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t};function nf(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function rf(e){return X(e)?document.querySelector(e):e}const of="Logging",sf="x-amz-user-agent",cf="NoHubcallbackProvidedException";var _e;(function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE",e.NONE="NONE"})(_e||(_e={}));const Po={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6};class de{constructor(t,n=_e.WARN){this.name=t,this.level=n,this._pluggables=[]}_padding(t){return t<10?"0"+t:""+t}_ts(){const t=new Date;return[this._padding(t.getMinutes()),this._padding(t.getSeconds())].join(":")+"."+t.getMilliseconds()}configure(t){return t?(this._config=t,this._config):this._config}_log(t,...n){let r=this.level;de.LOG_LEVEL&&(r=de.LOG_LEVEL),typeof window<"u"&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);const i=Po[r];if(!(Po[t]>=i))return;let s=console.log.bind(console);t===_e.ERROR&&console.error&&(s=console.error.bind(console)),t===_e.WARN&&console.warn&&(s=console.warn.bind(console)),de.BIND_ALL_LOG_LEVELS&&(t===_e.INFO&&console.info&&(s=console.info.bind(console)),t===_e.DEBUG&&console.debug&&(s=console.debug.bind(console)));const c=`[${t}] ${this._ts()} ${this.name}`;let a="";if(n.length===1&&typeof n[0]=="string")a=`${c} - ${n[0]}`,s(a);else if(n.length===1)a=`${c} ${n[0]}`,s(c,n[0]);else if(typeof n[0]=="string"){let l=n.slice(1);l.length===1&&(l=l[0]),a=`${c} - ${n[0]} ${l}`,s(`${c} - ${n[0]}`,l)}else a=`${c} ${n}`,s(c,n);for(const l of this._pluggables){const u={message:a,timestamp:Date.now()};l.pushLogs([u])}}log(...t){this._log(_e.INFO,...t)}info(...t){this._log(_e.INFO,...t)}warn(...t){this._log(_e.WARN,...t)}error(...t){this._log(_e.ERROR,...t)}debug(...t){this._log(_e.DEBUG,...t)}verbose(...t){this._log(_e.VERBOSE,...t)}addPluggable(t){t&&t.getCategoryName()===of&&(this._pluggables.push(t),t.configure(this._config))}listPluggables(){return this._pluggables}}de.LOG_LEVEL=null;de.BIND_ALL_LOG_LEVELS=!1;class Ee extends Error{constructor({message:t,name:n,recoverySuggestion:r,underlyingError:i,metadata:o}){if(super(t),this.name=n,this.underlyingError=i,this.recoverySuggestion=r,o){const{extendedRequestId:s,httpStatusCode:c,requestId:a}=o;this.metadata={extendedRequestId:s,httpStatusCode:c,requestId:a}}this.constructor=Ee,Object.setPrototypeOf(this,Ee.prototype)}}var xt;(function(e){e.NoEndpointId="NoEndpointId",e.PlatformNotSupported="PlatformNotSupported",e.Unknown="Unknown",e.NetworkError="NetworkError"})(xt||(xt={}));const xc=(e,t=Ee)=>(n,r,i)=>{const{message:o,recoverySuggestion:s}=e[r];if(!n)throw new t({name:r,message:i?`${o} ${i}`:o,recoverySuggestion:s})},Sn=typeof Symbol<"u"?Symbol("amplify_default"):"@@amplify_default",Qt=new de("Hub");class af{constructor(t){this.listeners=new Map,this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=t}_remove(t,n){const r=this.listeners.get(t);if(!r){Qt.warn(`No listeners for ${t}`);return}this.listeners.set(t,[...r.filter(({callback:i})=>i!==n)])}dispatch(t,n,r,i){typeof t=="string"&&this.protectedChannels.indexOf(t)>-1&&(i===Sn||Qt.warn(`WARNING: ${t} is protected and dispatching on it can have unintended consequences`));const o={channel:t,payload:{...n},source:r,patternInfo:[]};try{this._toListeners(o)}catch(s){Qt.error(s)}}listen(t,n,r="noname"){let i;if(typeof n!="function")throw new Ee({name:cf,message:"No callback supplied to Hub"});i=n;let o=this.listeners.get(t);return o||(o=[],this.listeners.set(t,o)),o.push({name:r,callback:i}),()=>{this._remove(t,i)}}_toListeners(t){const{channel:n,payload:r}=t,i=this.listeners.get(n);i&&i.forEach(o=>{Qt.debug(`Dispatching to ${n} with `,r);try{o.callback(t)}catch(s){Qt.error(s)}})}}const dr=new af("__default__"),lf=()=>{if(typeof window<"u"&&typeof window.btoa=="function")return window.btoa;if(typeof btoa=="function")return btoa;throw new Ee({name:"Base64EncoderError",message:"Cannot resolve the `btoa` function from the environment."})},uf=()=>{if(typeof window<"u"&&typeof window.atob=="function")return window.atob;if(typeof atob=="function")return atob;throw new Ee({name:"Base64EncoderError",message:"Cannot resolve the `atob` function from the environment."})},ff={convert(e,t){let n=e;return t!=null&&t.urlSafe&&(n=n.replace(/-/g,"+").replace(/_/g,"/")),uf()(n)}};var rt;(function(e){e.AuthTokenConfigException="AuthTokenConfigException",e.AuthUserPoolAndIdentityPoolException="AuthUserPoolAndIdentityPoolException",e.AuthUserPoolException="AuthUserPoolException",e.InvalidIdentityPoolIdException="InvalidIdentityPoolIdException",e.OAuthNotConfigureException="OAuthNotConfigureException"})(rt||(rt={}));const df={[rt.AuthTokenConfigException]:{message:"Auth Token Provider not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app."},[rt.AuthUserPoolAndIdentityPoolException]:{message:"Auth UserPool or IdentityPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId."},[rt.AuthUserPoolException]:{message:"Auth UserPool not configured.",recoverySuggestion:"Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId."},[rt.InvalidIdentityPoolIdException]:{message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."},[rt.OAuthNotConfigureException]:{message:"oauth param not configured.",recoverySuggestion:"Make sure to call Amplify.configure with oauth parameter in your app."}},Oc=xc(df);function ye(e){let t=!0;e?t=!!e.userPoolId&&!!e.userPoolClientId:t=!1,Oc(t,rt.AuthUserPoolException)}function Qn(e){const t=!!(e!=null&&e.identityPoolId);Oc(t,rt.InvalidIdentityPoolIdException)}function vn(e){const t=e.split(".");if(t.length!==3)throw new Error("Invalid token");try{const r=t[1].replace(/-/g,"+").replace(/_/g,"/"),i=decodeURIComponent(ff.convert(r).split("").map(s=>`%${`00${s.charCodeAt(0).toString(16)}`.slice(-2)}`).join("")),o=JSON.parse(i);return{toString:()=>e,payload:o}}catch{throw new Error("Invalid token payload")}}const Rc=e=>e&&e["nonRetryable"],Fn=new de("retryUtil");async function hf(e,t,n,r){if(typeof e!="function")throw Error("functionToRetry must be a function");return new Promise(async(i,o)=>{let s=0,c=!1,a=()=>{},l;for(;;){s++,Fn.debug(`${e.name} attempt #${s} with this vars: ${JSON.stringify(t)}`);try{i(await e(...t));return}catch(u){if(l=u,Fn.debug(`error on ${e.name}`,u),Rc(u)){Fn.debug(`${e.name} non retryable error`,u),o(u);return}const h=n(s,t,u);if(Fn.debug(`${e.name} retrying in ${h} ms`),h===!1||c){o(u);return}else await new Promise(g=>{a=g,setTimeout(a,h)})}}o(l)})}const Nc=e=>{const t=Reflect.ownKeys(e);for(const n of t){const r=e[n];(r&&typeof r=="object"||typeof r=="function")&&Nc(r)}return Object.freeze(e)},pf=new de("parseAWSExports"),gf={API_KEY:"apiKey",AWS_IAM:"iam",AMAZON_COGNITO_USER_POOLS:"userPool",OPENID_CONNECT:"oidc",NONE:"none",AWS_LAMBDA:"lambda",LAMBDA:"lambda"},yf=(e={})=>{var Pn,kn,ct,_t,Rt,Gt;if(!Object.prototype.hasOwnProperty.call(e,"aws_project_region"))throw new Ee({name:"InvalidParameterException",message:"Invalid config parameter.",recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});const{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:i,aws_bots_config:o,aws_cognito_identity_pool_id:s,aws_cognito_sign_up_verification_method:c,aws_cognito_mfa_configuration:a,aws_cognito_mfa_types:l,aws_cognito_password_protection_settings:u,aws_cognito_verification_mechanisms:h,aws_cognito_signup_attributes:g,aws_cognito_social_providers:p,aws_cognito_username_attributes:v,aws_mandatory_sign_in:w,aws_mobile_analytics_app_id:P,aws_mobile_analytics_app_region:k,aws_user_files_s3_bucket:U,aws_user_files_s3_bucket_region:K,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:x,aws_user_pools_id:L,aws_user_pools_web_client_id:Ae,geo:ce,oauth:Ce,predictions:me,aws_cloud_logic_custom:Ue,Notifications:bt,modelIntrospection:St}=e,Y={};P&&(Y.Analytics={Pinpoint:{appId:P,region:k}});const{InAppMessaging:ke,Push:Ke}=bt??{};if(ke!=null&&ke.AWSPinpoint||Ke!=null&&Ke.AWSPinpoint){if(ke!=null&&ke.AWSPinpoint){const{appId:W,region:at}=ke.AWSPinpoint;Y.Notifications={InAppMessaging:{Pinpoint:{appId:W,region:at}}}}if(Ke!=null&&Ke.AWSPinpoint){const{appId:W,region:at}=Ke.AWSPinpoint;Y.Notifications={...Y.Notifications,PushNotification:{Pinpoint:{appId:W,region:at}}}}}if(Array.isArray(o)&&(Y.Interactions={LexV1:Object.fromEntries(o.map(W=>[W.name,W]))}),r){const W=gf[n];W||pf.debug(`Invalid authentication type ${n}. Falling back to IAM.`),Y.API={GraphQL:{endpoint:r,apiKey:t,region:i,defaultAuthMode:W??"iam"}},St&&(Y.API.GraphQL.modelIntrospection=St)}const ee=a?{status:a&&a.toLowerCase(),totpEnabled:(l==null?void 0:l.includes("TOTP"))??!1,smsEnabled:(l==null?void 0:l.includes("SMS"))??!1}:void 0,z=u?{minLength:u.passwordPolicyMinLength,requireLowercase:((Pn=u.passwordPolicyCharacters)==null?void 0:Pn.includes("REQUIRES_LOWERCASE"))??!1,requireUppercase:((kn=u.passwordPolicyCharacters)==null?void 0:kn.includes("REQUIRES_UPPERCASE"))??!1,requireNumbers:((ct=u.passwordPolicyCharacters)==null?void 0:ct.includes("REQUIRES_NUMBERS"))??!1,requireSpecialCharacters:((_t=u.passwordPolicyCharacters)==null?void 0:_t.includes("REQUIRES_SYMBOLS"))??!1}:void 0,Qe=Array.from(new Set([...h??[],...g??[]])).reduce((W,at)=>({...W,[at.toLowerCase()]:{required:!0}}),{}),vt=(v==null?void 0:v.includes("EMAIL"))??!1,Fe=(v==null?void 0:v.includes("PHONE_NUMBER"))??!1;(s||L)&&(Y.Auth={Cognito:{identityPoolId:s,allowGuestAccess:w!=="enable",signUpVerificationMethod:c,userAttributes:Qe,userPoolClientId:Ae,userPoolId:L,mfa:ee,passwordFormat:z,loginWith:{username:!(vt||Fe),email:vt,phone:Fe}}});const xe=Ce?Object.keys(Ce).length>0:!1,Nn=p?p.length>0:!1;if(Y.Auth&&xe&&(Y.Auth.Cognito.loginWith={...Y.Auth.Cognito.loginWith,oauth:{...mf(Ce),...Nn&&{providers:bf(p)}}}),U&&(Y.Storage={S3:{bucket:U,region:K,dangerouslyConnectToHttpEndpointForTesting:x}}),ce){const{amazon_location_service:W}=ce;Y.Geo={LocationService:{maps:W.maps,geofenceCollections:W.geofenceCollections,searchIndices:W.search_indices,region:W.region}}}if(Ue&&(Y.API={...Y.API,REST:Ue.reduce((W,at)=>{const{name:f,endpoint:d,region:y,service:b}=at;return{...W,[f]:{endpoint:d,...b?{service:b}:void 0,...y?{region:y}:void 0}}},{})}),me){const{VoiceId:W}=((Gt=(Rt=me==null?void 0:me.convert)==null?void 0:Rt.speechGenerator)==null?void 0:Gt.defaults)??{};Y.Predictions=W?{...me,convert:{...me.convert,speechGenerator:{...me.convert.speechGenerator,defaults:{voiceId:W}}}}:me}return Y},ko=e=>(e==null?void 0:e.split(","))??[],mf=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:r,responseType:i})=>({domain:e,scopes:t,redirectSignIn:ko(n),redirectSignOut:ko(r),responseType:i}),bf=e=>e.map(t=>{const n=t.toLowerCase();return n.charAt(0).toUpperCase()+n.slice(1)}),Sf=Symbol("oauth-listener");let Hn;const vf=new Uint8Array(16);function _f(){if(!Hn&&(Hn=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Hn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Hn(vf)}const te=[];for(let e=0;e<256;++e)te.push((e+256).toString(16).slice(1));function wf(e,t=0){return te[e[t+0]]+te[e[t+1]]+te[e[t+2]]+te[e[t+3]]+"-"+te[e[t+4]]+te[e[t+5]]+"-"+te[e[t+6]]+te[e[t+7]]+"-"+te[e[t+8]]+te[e[t+9]]+"-"+te[e[t+10]]+te[e[t+11]]+te[e[t+12]]+te[e[t+13]]+te[e[t+14]]+te[e[t+15]]}const If=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Do={randomUUID:If};function Ef(e,t,n){if(Do.randomUUID&&!t&&!e)return Do.randomUUID();e=e||{};const r=e.random||(e.rng||_f)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(let i=0;i<16;++i)t[n+i]=r[i];return t}return wf(r)}function Tf(e){const{version:t}=e;return t?t.startsWith("1"):!1}function Af(e){if(!e)return;const{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&Uf(r)}}}function Cf(e){if(!e)return;const{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:i,mfa_configuration:o,mfa_methods:s,unauthenticated_identities_enabled:c,oauth:a,username_attributes:l,standard_required_attributes:u,groups:h}=e,g={Cognito:{userPoolId:t,userPoolClientId:n,groups:h}};return r&&(g.Cognito={...g.Cognito,identityPoolId:r}),i&&(g.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),o&&(g.Cognito.mfa={status:Lf(o),smsEnabled:s==null?void 0:s.includes("SMS"),totpEnabled:s==null?void 0:s.includes("TOTP")}),c&&(g.Cognito.allowGuestAccess=c),a&&(g.Cognito.loginWith={oauth:{domain:a.domain,redirectSignIn:a.redirect_sign_in_uri,redirectSignOut:a.redirect_sign_out_uri,responseType:a.response_type==="token"?"token":"code",scopes:a.scopes,providers:Mf(a.identity_providers)}}),l&&(g.Cognito.loginWith={...g.Cognito.loginWith,email:l.includes("email"),phone:l.includes("phone_number"),username:l.includes("username")}),u&&(g.Cognito.userAttributes=u.reduce((p,v)=>({...p,[v]:{required:!0}}),{})),g}function xf(e){if(!(e!=null&&e.amazon_pinpoint))return;const{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function Of(e){if(!e)return;const{aws_region:t,geofence_collections:n,maps:r,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:r}}}function Rf(e){if(!e)return;const{aws_region:t,default_authorization_type:n,url:r,api_key:i,model_introspection:o}=e;return{GraphQL:{endpoint:r,defaultAuthMode:Pc(n),region:t,apiKey:i,modelIntrospection:o}}}function Nf(e){if(!(e!=null&&e.events))return;const{url:t,aws_region:n,api_key:r,default_authorization_type:i}=e.events;return{Events:{endpoint:t,defaultAuthMode:Pc(i),region:n,apiKey:r}}}function Pf(e){if(!e)return;const{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,i=n.includes("IN_APP_MESSAGING"),o=n.includes("APNS")||n.includes("FCM");if(!(i||o))return;const s={};return i&&(s.InAppMessaging={Pinpoint:{appId:r,region:t}}),o&&(s.PushNotification={Pinpoint:{appId:r,region:t}}),s}function kf(e){const t={};if(e.storage&&(t.Storage=Af(e.storage)),e.auth&&(t.Auth=Cf(e.auth)),e.analytics&&(t.Analytics=xf(e.analytics)),e.geo&&(t.Geo=Of(e.geo)),e.data&&(t.API=Rf(e.data)),e.custom){const n=Nf(e.custom);n&&"Events"in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=Pf(e.notifications)),t}const Df={AMAZON_COGNITO_USER_POOLS:"userPool",API_KEY:"apiKey",AWS_IAM:"iam",AWS_LAMBDA:"lambda",OPENID_CONNECT:"oidc"};function Pc(e){return Df[e]}const Mo={GOOGLE:"Google",LOGIN_WITH_AMAZON:"Amazon",FACEBOOK:"Facebook",SIGN_IN_WITH_APPLE:"Apple"};function Mf(e=[]){return e.reduce((t,n)=>(Mo[n]!==void 0&&t.push(Mo[n]),t),[])}function Lf(e){return e==="OPTIONAL"?"optional":e==="REQUIRED"?"on":"off"}function Uf(e){const t={};return e.forEach(({name:n,bucket_name:r,aws_region:i,paths:o})=>{if(n in t)throw new Error(`Duplicate friendly name found: ${n}. Name must be unique.`);const s=o?Object.entries(o).reduce((c,[a,l])=>(l!==void 0&&(c[a]=l),c),{}):void 0;t[n]={bucketName:r,region:i,paths:s}}),t}const kc=e=>Object.keys(e).some(t=>t.startsWith("aws_"))?yf(e):Tf(e)?kf(e):e;var si=function(e,t){return si=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},si(e,t)};function Mi(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");si(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}function Dc(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(u){try{l(r.next(u))}catch(h){s(h)}}function a(u){try{l(r.throw(u))}catch(h){s(h)}}function l(u){u.done?o(u.value):i(u.value).then(c,a)}l((r=r.apply(e,t||[])).next())})}function Li(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return s.next=c(0),s.throw=c(1),s.return=c(2),typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(l){return function(u){return a([l,u])}}function a(l){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,l[0]&&(n=0)),n;)try{if(r=1,i&&(o=l[0]&2?i.return:l[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,l[1])).done)return o;switch(i=0,o&&(l=[l[0]&2,o.value]),l[0]){case 0:case 1:o=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!o||l[1]>o[0]&&l[1]<o[3])){n.label=l[1];break}if(l[0]===6&&n.label<o[1]){n.label=o[1],o=l;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(l);break}o[2]&&n.ops.pop(),n.trys.pop();continue}l=t.call(e,n)}catch(u){l=[6,u],i=0}finally{r=o=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function _n(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ci(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],s;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(c){s={error:c}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return o}function ai(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,o;r<i;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}function Ft(e){return this instanceof Ft?(this.v=e,this):new Ft(e)}function Kf(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(p){return function(v){return Promise.resolve(v).then(p,h)}}function c(p,v){r[p]&&(i[p]=function(w){return new Promise(function(P,k){o.push([p,w,P,k])>1||a(p,w)})},v&&(i[p]=v(i[p])))}function a(p,v){try{l(r[p](v))}catch(w){g(o[0][3],w)}}function l(p){p.value instanceof Ft?Promise.resolve(p.value.v).then(u,h):g(o[0][2],p)}function u(p){a("next",p)}function h(p){a("throw",p)}function g(p,v){p(v),o.shift(),o.length&&a(o[0][0],o[0][1])}}function Ff(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof _n=="function"?_n(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(c,a){s=e[o](s),i(c,a,s.done,s.value)})}}function i(o,s,c,a){Promise.resolve(a).then(function(l){o({value:l,done:c})},s)}}var Oe=64,Hf=32,$f=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vf=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],Wf=Math.pow(2,53)-1,Xn=function(){function e(){this.state=Int32Array.from(Vf),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(t){if(this.finished)throw new Error("Attempted to update an already finished hash.");var n=0,r=t.byteLength;if(this.bytesHashed+=r,this.bytesHashed*8>Wf)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;r>0;)this.buffer[this.bufferLength++]=t[n++],r--,this.bufferLength===Oe&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var t=this.bytesHashed*8,n=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),r=this.bufferLength;if(n.setUint8(this.bufferLength++,128),r%Oe>=Oe-8){for(var i=this.bufferLength;i<Oe;i++)n.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(var i=this.bufferLength;i<Oe-8;i++)n.setUint8(i,0);n.setUint32(Oe-8,Math.floor(t/4294967296),!0),n.setUint32(Oe-4,t),this.hashBuffer(),this.finished=!0}for(var o=new Uint8Array(Hf),i=0;i<8;i++)o[i*4]=this.state[i]>>>24&255,o[i*4+1]=this.state[i]>>>16&255,o[i*4+2]=this.state[i]>>>8&255,o[i*4+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var t=this,n=t.buffer,r=t.state,i=r[0],o=r[1],s=r[2],c=r[3],a=r[4],l=r[5],u=r[6],h=r[7],g=0;g<Oe;g++){if(g<16)this.temp[g]=(n[g*4]&255)<<24|(n[g*4+1]&255)<<16|(n[g*4+2]&255)<<8|n[g*4+3]&255;else{var p=this.temp[g-2],v=(p>>>17|p<<15)^(p>>>19|p<<13)^p>>>10;p=this.temp[g-15];var w=(p>>>7|p<<25)^(p>>>18|p<<14)^p>>>3;this.temp[g]=(v+this.temp[g-7]|0)+(w+this.temp[g-16]|0)}var P=(((a>>>6|a<<26)^(a>>>11|a<<21)^(a>>>25|a<<7))+(a&l^~a&u)|0)+(h+($f[g]+this.temp[g]|0)|0)|0,k=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&o^i&s^o&s)|0;h=u,u=l,l=a,a=c+P|0,c=s,s=o,o=i,i=P+k|0}r[0]+=i,r[1]+=o,r[2]+=s,r[3]+=c,r[4]+=a,r[5]+=l,r[6]+=u,r[7]+=h},e}();const jf=e=>new TextEncoder().encode(e);var Bf=typeof Buffer<"u"&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:jf;function Mc(e){return e instanceof Uint8Array?e:typeof e=="string"?Bf(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Gf(e){return typeof e=="string"?e.length===0:e.byteLength===0}var qf=function(){function e(t){this.secret=t,this.hash=new Xn,this.reset()}return e.prototype.update=function(t){if(!(Gf(t)||this.error))try{this.hash.update(Mc(t))}catch(n){this.error=n}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Dc(this,void 0,void 0,function(){return Li(this,function(t){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Xn,this.secret){this.outer=new Xn;var t=zf(this.secret),n=new Uint8Array(Oe);n.set(t);for(var r=0;r<Oe;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(var r=0;r<t.byteLength;r++)t[r]=0}},e}();function zf(e){var t=Mc(e);if(t.byteLength>Oe){var n=new Xn;n.update(t),t=n.digest()}var r=new Uint8Array(Oe);return r.set(t),r}const Lc={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Lc[e]=t}function Jf(e){let t="";for(let n=0;n<e.byteLength;n++)t+=Lc[e[n]];return t}var Q;(function(e){e.WebUnknown="0",e.React="1",e.NextJs="2",e.Angular="3",e.VueJs="4",e.Nuxt="5",e.Svelte="6",e.ServerSideUnknown="100",e.ReactSSR="101",e.NextJsSSR="102",e.AngularSSR="103",e.VueJsSSR="104",e.NuxtSSR="105",e.SvelteSSR="106",e.ReactNative="201",e.Expo="202"})(Q||(Q={}));var Lo;(function(e){e.AI="ai",e.API="api",e.Auth="auth",e.Analytics="analytics",e.DataStore="datastore",e.Geo="geo",e.InAppMessaging="inappmessaging",e.Interactions="interactions",e.Predictions="predictions",e.PubSub="pubsub",e.PushNotification="pushnotification",e.Storage="storage"})(Lo||(Lo={}));var Uo;(function(e){e.CreateConversation="1",e.GetConversation="2",e.ListConversations="3",e.DeleteConversation="4",e.SendMessage="5",e.ListMessages="6",e.OnMessage="7",e.Generation="8",e.UpdateConversation="9"})(Uo||(Uo={}));var Ko;(function(e){e.Record="1",e.IdentifyUser="2"})(Ko||(Ko={}));var Fo;(function(e){e.GraphQl="1",e.Get="2",e.Post="3",e.Put="4",e.Patch="5",e.Del="6",e.Head="7"})(Fo||(Fo={}));var Ho;(function(e){e.SignUp="1",e.ConfirmSignUp="2",e.ResendSignUpCode="3",e.SignIn="4",e.FetchMFAPreference="6",e.UpdateMFAPreference="7",e.SetUpTOTP="10",e.VerifyTOTPSetup="11",e.ConfirmSignIn="12",e.DeleteUserAttributes="15",e.DeleteUser="16",e.UpdateUserAttributes="17",e.FetchUserAttributes="18",e.ConfirmUserAttribute="22",e.SignOut="26",e.UpdatePassword="27",e.ResetPassword="28",e.ConfirmResetPassword="29",e.FederatedSignIn="30",e.RememberDevice="32",e.ForgetDevice="33",e.FetchDevices="34",e.SendUserAttributeVerificationCode="35",e.SignInWithRedirect="36",e.StartWebAuthnRegistration="37",e.CompleteWebAuthnRegistration="38",e.ListWebAuthnCredentials="39",e.DeleteWebAuthnCredential="40"})(Ho||(Ho={}));var $o;(function(e){e.Subscribe="1",e.GraphQl="2"})($o||($o={}));var Vo;(function(e){e.SearchByText="0",e.SearchByCoordinates="1",e.SearchForSuggestions="2",e.SearchByPlaceId="3",e.SaveGeofences="4",e.GetGeofence="5",e.ListGeofences="6",e.DeleteGeofences="7"})(Vo||(Vo={}));var Wo;(function(e){e.SyncMessages="1",e.IdentifyUser="2",e.NotifyMessageInteraction="3"})(Wo||(Wo={}));var jo;(function(e){e.None="0"})(jo||(jo={}));var Bo;(function(e){e.Convert="1",e.Identify="2",e.Interpret="3"})(Bo||(Bo={}));var Go;(function(e){e.Subscribe="1"})(Go||(Go={}));var qo;(function(e){e.InitializePushNotifications="1",e.IdentifyUser="2"})(qo||(qo={}));var zo;(function(e){e.UploadData="1",e.DownloadData="2",e.List="3",e.Copy="4",e.Remove="5",e.GetProperties="6",e.GetUrl="7",e.GetDataAccess="8",e.ListCallerAccessGrants="9"})(zo||(zo={}));const Yf="6.14.4",Or=()=>typeof global<"u",jt=()=>typeof window<"u",Uc=()=>typeof document<"u",Ui=()=>typeof process<"u",wn=(e,t)=>!!Object.keys(e).find(n=>n.startsWith(t));var Jo={};function Qf(){const e=r=>r.startsWith("_react")||r.startsWith("__react"),t=r=>Object.keys(r).find(e),n=()=>Array.from(document.querySelectorAll("[id]"));return Uc()&&n().some(t)}function Xf(){return Ui()&&typeof Jo<"u"&&!!Object.keys(Jo).find(e=>e.includes("react"))}function Zf(){return jt()&&wn(window,"__VUE")}function ed(){return Or()&&wn(global,"__VUE")}var Yo={};function td(){return jt()&&wn(window,"__SVELTE")}function nd(){return Ui()&&typeof Yo<"u"&&!!Object.keys(Yo).find(e=>e.includes("svelte"))}function rd(){return jt()&&window.next&&typeof window.next=="object"}function id(){return Or()&&(wn(global,"__next")||wn(global,"__NEXT"))}function od(){return jt()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function sd(){return Or()&&typeof global.__NUXT_PATHS__<"u"}var Qo={};function cd(){const e=!!(Uc()&&document.querySelector("[ng-version]")),t=!!(jt()&&typeof window.ng<"u");return e||t}function ad(){var e;return Ui()&&typeof Qo=="object"&&((e=Qo.npm_lifecycle_script)==null?void 0:e.startsWith("ng "))||!1}function ld(){return typeof navigator<"u"&&typeof navigator.product<"u"&&navigator.product==="ReactNative"}function ud(){return Or()&&typeof global.expo<"u"}function fd(){return jt()}const dd=[{platform:Q.Expo,detectionMethod:ud},{platform:Q.ReactNative,detectionMethod:ld},{platform:Q.NextJs,detectionMethod:rd},{platform:Q.Nuxt,detectionMethod:od},{platform:Q.Angular,detectionMethod:cd},{platform:Q.React,detectionMethod:Qf},{platform:Q.VueJs,detectionMethod:Zf},{platform:Q.Svelte,detectionMethod:td},{platform:Q.WebUnknown,detectionMethod:fd},{platform:Q.NextJsSSR,detectionMethod:id},{platform:Q.NuxtSSR,detectionMethod:sd},{platform:Q.ReactSSR,detectionMethod:Xf},{platform:Q.VueJsSSR,detectionMethod:ed},{platform:Q.AngularSSR,detectionMethod:ad},{platform:Q.SvelteSSR,detectionMethod:nd}];function hd(){var e;return((e=dd.find(t=>t.detectionMethod()))==null?void 0:e.platform)||Q.ServerSideUnknown}let dn;const Zn=[];let hr=!1;const pd=10,gd=10,yd=1e3,Kc=()=>{var e;if(!dn){if(dn=hd(),hr)for(;Zn.length;)(e=Zn.pop())==null||e();else Zn.forEach(t=>{t()});Xo(Q.ServerSideUnknown,pd),Xo(Q.WebUnknown,gd)}return dn},md=e=>{hr||Zn.push(e)};function bd(){dn=void 0}function Xo(e,t){dn===e&&!hr&&setTimeout(()=>{bd(),hr=!0,setTimeout(Kc,yd)},t)}const Sd={},vd=(e,t)=>{var n,r;return(r=(n=Sd[e])==null?void 0:n[t])==null?void 0:r.additionalDetails},_d="aws-amplify",wd=e=>e.replace(/\+.*/,""),Id=({category:e,action:t}={})=>{const n=[[_d,wd(Yf)]];if(e&&n.push([e,t]),n.push(["framework",Kc()]),e&&t){const r=vd(e,t);r&&r.forEach(i=>{n.push(i)})}return n},On=e=>Id(e).map(([r,i])=>r&&i?`${r}/${i}`:r).join(" ");function ie(e){return typeof e=="function"}function Ed(e){var t=function(r){Error.call(r),r.stack=new Error().stack},n=e(t);return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Br=Ed(function(e){return function(n){e(this),this.message=n?n.length+` errors occurred during unsubscription:
`+n.map(function(r,i){return i+1+") "+r.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=n}});function Zo(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ki=function(){function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var t,n,r,i,o;if(!this.closed){this.closed=!0;var s=this._parentage;if(s)if(this._parentage=null,Array.isArray(s))try{for(var c=_n(s),a=c.next();!a.done;a=c.next()){var l=a.value;l.remove(this)}}catch(w){t={error:w}}finally{try{a&&!a.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else s.remove(this);var u=this.initialTeardown;if(ie(u))try{u()}catch(w){o=w instanceof Br?w.errors:[w]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var g=_n(h),p=g.next();!p.done;p=g.next()){var v=p.value;try{es(v)}catch(w){o=o??[],w instanceof Br?o=ai(ai([],ci(o)),ci(w.errors)):o.push(w)}}}catch(w){r={error:w}}finally{try{p&&!p.done&&(i=g.return)&&i.call(g)}finally{if(r)throw r.error}}}if(o)throw new Br(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)es(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}},e.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},e.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},e.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&Zo(n,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&Zo(n,t),t instanceof e&&t._removeParent(this)},e.EMPTY=function(){var t=new e;return t.closed=!0,t}(),e}();Ki.EMPTY;function Fc(e){return e instanceof Ki||e&&"closed"in e&&ie(e.remove)&&ie(e.add)&&ie(e.unsubscribe)}function es(e){ie(e)?e():e.unsubscribe()}var Td={Promise:void 0},Ad={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,ai([e,t],ci(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function Hc(e){Ad.setTimeout(function(){throw e})}function ts(){}function Cd(e){e()}var Fi=function(e){Mi(t,e);function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,Fc(n)&&n.add(r)):r.destination=Rd,r}return t.create=function(n,r,i){return new li(n,r,i)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Ki),xd=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){$n(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){$n(r)}else $n(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){$n(n)}},e}(),li=function(e){Mi(t,e);function t(n,r,i){var o=e.call(this)||this,s;return ie(n)||!n?s={next:n??void 0,error:r??void 0,complete:i??void 0}:s=n,o.destination=new xd(s),o}return t}(Fi);function $n(e){Hc(e)}function Od(e){throw e}var Rd={closed:!0,next:ts,error:Od,complete:ts},Hi=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function Nd(e){return e}function Pd(e){return e.length===0?Nd:e.length===1?e[0]:function(n){return e.reduce(function(r,i){return i(r)},n)}}var Te=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var i=this,o=Dd(t)?t:new li(t,n,r);return Cd(function(){var s=i,c=s.operator,a=s.source;o.add(c?c.call(o,a):a?i._subscribe(o):i._trySubscribe(o))}),o},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return n=ns(n),new n(function(i,o){var s=new li({next:function(c){try{t(c)}catch(a){o(a),s.unsubscribe()}},error:o,complete:i});r.subscribe(s)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[Hi]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Pd(t)(this)},e.prototype.toPromise=function(t){var n=this;return t=ns(t),new t(function(r,i){var o;n.subscribe(function(s){return o=s},function(s){return i(s)},function(){return r(o)})})},e.create=function(t){return new e(t)},e}();function ns(e){var t;return(t=e??Td.Promise)!==null&&t!==void 0?t:Promise}function kd(e){return e&&ie(e.next)&&ie(e.error)&&ie(e.complete)}function Dd(e){return e&&e instanceof Fi||kd(e)&&Fc(e)}function Md(e){return ie(e==null?void 0:e.lift)}function Rr(e){return function(t){if(Md(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function $i(e,t,n,r,i){return new Ld(e,t,n,r,i)}var Ld=function(e){Mi(t,e);function t(n,r,i,o,s,c){var a=e.call(this,n)||this;return a.onFinalize=s,a.shouldUnsubscribe=c,a._next=r?function(l){try{r(l)}catch(u){n.error(u)}}:e.prototype._next,a._error=o?function(l){try{o(l)}catch(u){n.error(u)}finally{this.unsubscribe()}}:e.prototype._error,a._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:e.prototype._complete,a}return t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(Fi),$c=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Vc(e){return ie(e==null?void 0:e.then)}function Wc(e){return ie(e[Hi])}function jc(e){return Symbol.asyncIterator&&ie(e==null?void 0:e[Symbol.asyncIterator])}function Bc(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Ud(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Gc=Ud();function qc(e){return ie(e==null?void 0:e[Gc])}function zc(e){return Kf(this,arguments,function(){var n,r,i,o;return Li(this,function(s){switch(s.label){case 0:n=e.getReader(),s.label=1;case 1:s.trys.push([1,,9,10]),s.label=2;case 2:return[4,Ft(n.read())];case 3:return r=s.sent(),i=r.value,o=r.done,o?[4,Ft(void 0)]:[3,5];case 4:return[2,s.sent()];case 5:return[4,Ft(i)];case 6:return[4,s.sent()];case 7:return s.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}})})}function Jc(e){return ie(e==null?void 0:e.getReader)}function Vi(e){if(e instanceof Te)return e;if(e!=null){if(Wc(e))return Kd(e);if($c(e))return Fd(e);if(Vc(e))return Hd(e);if(jc(e))return Yc(e);if(qc(e))return $d(e);if(Jc(e))return Vd(e)}throw Bc(e)}function Kd(e){return new Te(function(t){var n=e[Hi]();if(ie(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fd(e){return new Te(function(t){for(var n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function Hd(e){return new Te(function(t){e.then(function(n){t.closed||(t.next(n),t.complete())},function(n){return t.error(n)}).then(null,Hc)})}function $d(e){return new Te(function(t){var n,r;try{for(var i=_n(e),o=i.next();!o.done;o=i.next()){var s=o.value;if(t.next(s),t.closed)return}}catch(c){n={error:c}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}t.complete()})}function Yc(e){return new Te(function(t){Wd(e,t).catch(function(n){return t.error(n)})})}function Vd(e){return Yc(zc(e))}function Wd(e,t){var n,r,i,o;return Dc(this,void 0,void 0,function(){var s,c;return Li(this,function(a){switch(a.label){case 0:a.trys.push([0,5,6,11]),n=Ff(e),a.label=1;case 1:return[4,n.next()];case 2:if(r=a.sent(),!!r.done)return[3,4];if(s=r.value,t.next(s),t.closed)return[2];a.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return c=a.sent(),i={error:c},[3,11];case 6:return a.trys.push([6,,9,10]),r&&!r.done&&(o=n.return)?[4,o.call(n)]:[3,8];case 7:a.sent(),a.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}function Ct(e,t,n,r,i){r===void 0&&(r=0),i===void 0&&(i=!1);var o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Qc(e,t){return t===void 0&&(t=0),Rr(function(n,r){n.subscribe($i(r,function(i){return Ct(r,e,function(){return r.next(i)},t)},function(){return Ct(r,e,function(){return r.complete()},t)},function(i){return Ct(r,e,function(){return r.error(i)},t)}))})}function Xc(e,t){return t===void 0&&(t=0),Rr(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function jd(e,t){return Vi(e).pipe(Xc(t),Qc(t))}function Bd(e,t){return Vi(e).pipe(Xc(t),Qc(t))}function Gd(e,t){return new Te(function(n){var r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function qd(e,t){return new Te(function(n){var r;return Ct(n,t,function(){r=e[Gc](),Ct(n,t,function(){var i,o,s;try{i=r.next(),o=i.value,s=i.done}catch(c){n.error(c);return}s?n.complete():n.next(o)},0,!0)}),function(){return ie(r==null?void 0:r.return)&&r.return()}})}function Zc(e,t){if(!e)throw new Error("Iterable cannot be null");return new Te(function(n){Ct(n,t,function(){var r=e[Symbol.asyncIterator]();Ct(n,t,function(){r.next().then(function(i){i.done?n.complete():n.next(i.value)})},0,!0)})})}function zd(e,t){return Zc(zc(e),t)}function Jd(e,t){if(e!=null){if(Wc(e))return jd(e,t);if($c(e))return Gd(e,t);if(Vc(e))return Bd(e,t);if(jc(e))return Zc(e,t);if(qc(e))return qd(e,t);if(Jc(e))return zd(e,t)}throw Bc(e)}function Yd(e,t){return t?Jd(e,t):Vi(e)}function Qd(e,t){return Rr(function(n,r){var i=0;n.subscribe($i(r,function(o){r.next(e.call(t,o,i++))}))})}function Xd(e,t){return Rr(function(n,r){var i=0;n.subscribe($i(r,function(o){return e.call(t,o,i++)&&r.next(o)}))})}const Zd=()=>{if(typeof self>"u")return!1;const e=self;return typeof e.WorkerGlobalScope<"u"&&self instanceof e.WorkerGlobalScope};class Ht{networkMonitor(t){const n=Zd()?self:typeof window<"u"&&window;return n?new Te(r=>{r.next({online:n.navigator.onLine});const i=()=>{r.next({online:!0})},o=()=>{r.next({online:!1})};return n.addEventListener("online",i),n.addEventListener("offline",o),Ht._observers.push(r),()=>{n.removeEventListener("online",i),n.removeEventListener("offline",o),Ht._observers=Ht._observers.filter(s=>s!==r)}}):Yd([{online:!0}])}static _observerOverride(t){for(const n of this._observers){if(n.closed){this._observers=this._observers.filter(r=>r!==n);continue}n!=null&&n.next&&n.next(t)}}}Ht._observers=[];const eh=()=>typeof window<"u"&&typeof window.document<"u";class th{configure(t,n){this.authConfig=t,this.authOptions=n}async fetchAuthSession(t={}){var o,s,c,a,l,u;let n,r;const i=await this.getTokens(t);return i?(r=(s=(o=i.accessToken)==null?void 0:o.payload)==null?void 0:s.sub,n=await((a=(c=this.authOptions)==null?void 0:c.credentialsProvider)==null?void 0:a.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:i,authenticated:!0,forceRefresh:t.forceRefresh}))):n=await((u=(l=this.authOptions)==null?void 0:l.credentialsProvider)==null?void 0:u.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:t.forceRefresh})),{tokens:i,credentials:n==null?void 0:n.credentials,identityId:n==null?void 0:n.identityId,userSub:r}}async clearCredentials(){var t,n;await((n=(t=this.authOptions)==null?void 0:t.credentialsProvider)==null?void 0:n.clearCredentialsAndIdentityId())}async getTokens(t){var n,r;return await((r=(n=this.authOptions)==null?void 0:n.tokenProvider)==null?void 0:r.getTokens(t))??void 0}}class nh{constructor(){this.oAuthListener=void 0,this.resourcesConfig={},this.libraryOptions={},this.Auth=new th}configure(t,n){const r=kc(t);this.resourcesConfig=r,n&&(this.libraryOptions=n),this.resourcesConfig=Nc(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),dr.dispatch("core",{event:"configure",data:this.resourcesConfig},"Configure",Sn),this.notifyOAuthListener()}getConfig(){return this.resourcesConfig}[Sf](t){var n,r,i;(r=(n=this.resourcesConfig.Auth)==null?void 0:n.Cognito.loginWith)!=null&&r.oauth?t((i=this.resourcesConfig.Auth)==null?void 0:i.Cognito):this.oAuthListener=t}notifyOAuthListener(){var t,n,r;!((n=(t=this.resourcesConfig.Auth)==null?void 0:t.Cognito.loginWith)!=null&&n.oauth)||!this.oAuthListener||(this.oAuthListener((r=this.resourcesConfig.Auth)==null?void 0:r.Cognito),this.oAuthListener=void 0)}}const Me=new nh,rh=(e,t)=>e.Auth.fetchAuthSession(t),ea=e=>rh(Me,e),Nr=e=>{const{headers:t,statusCode:n}=e;return{...ih(e)?e.$metadata:{},httpStatusCode:n,requestId:t["x-amzn-requestid"]??t["x-amzn-request-id"]??t["x-amz-request-id"],extendedRequestId:t["x-amz-id-2"],cfId:t["x-amz-cf-id"]}},ih=e=>typeof(e==null?void 0:e.$metadata)=="object",Bt=async e=>{if(!e||e.statusCode<300)return;const t=await Pr(e),r=(s=>{const[c]=s.toString().split(/[,:]+/);return c.includes("#")?c.split("#")[1]:c})(e.headers["x-amzn-errortype"]??t.code??t.__type??"UnknownError"),i=t.message??t.Message??"Unknown error",o=new Error(i);return Object.assign(o,{name:r,$metadata:Nr(e)})},Pr=async e=>{if(!e.body)throw new Error("Missing response payload");const t=await e.body.json();return Object.assign(t,{$metadata:Nr(e)})},Wi=(e,t,n,r)=>async(i,o)=>{const s={...r,...i},c=await s.endpointResolver(s,o),a=await t(o,c),l=await e(a,{...s});return n(l)},ta={id:"aws",outputs:{dnsSuffix:"amazonaws.com"},regionRegex:"^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$",regions:["aws-global"]},oh={partitions:[ta,{id:"aws-cn",outputs:{dnsSuffix:"amazonaws.com.cn"},regionRegex:"^cn\\-\\w+\\-\\d+$",regions:["aws-cn-global"]}]},na=e=>{const{partitions:t}=oh;for(const{regions:n,outputs:r,regionRegex:i}of t){const o=new RegExp(i);if(n.includes(e)||o.test(e))return r.dnsSuffix}return ta.outputs.dnsSuffix},ra=3,rs="amz-sdk-invocation-id",sh="amz-sdk-request",is=5*60*1e3,ji=({maxAttempts:e=ra,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw new Error("maxAttempts must be greater than 0");return(i,o)=>async function(c){let a,l=o.attemptsCount??0,u;const h=()=>{if(u)return os(u,l),u;throw os(a,l),a};for(;!(r!=null&&r.aborted)&&l<e;){try{u=await i(c),a=void 0}catch(v){a=v,u=void 0}l=(o.attemptsCount??0)>l?o.attemptsCount??0:l+1,o.attemptsCount=l;const{isCredentialsExpiredError:g,retryable:p}=await t(u,a,o);if(p){if(o.isCredentialsExpired=!!g,!(r!=null&&r.aborted)&&l<e){const v=n(l);await ch(v,r)}continue}else return h()}if(r!=null&&r.aborted)throw new Error("Request aborted.");return h()}},ch=(e,t)=>{if(t!=null&&t.aborted)return Promise.resolve();let n,r;const i=new Promise(o=>{r=o,n=setTimeout(o,e)});return t==null||t.addEventListener("abort",function o(s){clearTimeout(n),t==null||t.removeEventListener("abort",o),r()}),i},os=(e,t)=>{Object.prototype.toString.call(e)==="[object Object]"&&(e.$metadata={...e.$metadata??{},attempts:t})},pr=Ef,ah=()=>e=>async function(n){return n.headers[rs]||(n.headers[rs]=pr()),e(n)},lh=({maxAttempts:e=ra})=>(t,n)=>async function(i){const o=n.attemptsCount??0;return i.headers[sh]=`attempt=${o+1}; max=${e}`,t(i)},Bi=({userAgentHeader:e="x-amz-user-agent",userAgentValue:t=""})=>n=>async function(i){if(t.trim().length===0)return await n(i);{const o=e.toLowerCase();return i.headers[o]=i.headers[o]?`${i.headers[o]} ${t}`:t,await n(i)}},Rn=(e,t)=>(n,r)=>{const i={};let o=s=>e(s,r);for(let s=t.length-1;s>=0;s--){const c=t[s];o=c(r)(o,i)}return o(n)},Gr=e=>{let t;return()=>(t||(t=e()),t)},uh=e=>!["HEAD","GET","DELETE"].includes(e.toUpperCase()),Gi=async({url:e,method:t,headers:n,body:r},{abortSignal:i,cache:o,withCrossDomainCredentials:s})=>{var h;let c;try{c=await fetch(e,{method:t,headers:n,body:uh(t)?r:void 0,signal:i,cache:o,credentials:s?"include":"same-origin"})}catch(g){throw g instanceof TypeError?new Ee({name:xt.NetworkError,message:"A network error has occurred.",underlyingError:g}):g}const a={};(h=c.headers)==null||h.forEach((g,p)=>{a[p.toLowerCase()]=g});const l={statusCode:c.status,headers:a,body:null},u=Object.assign(c.body??{},{text:Gr(()=>c.text()),blob:Gr(()=>c.blob()),json:Gr(()=>c.json())});return{...l,body:u}},ia=Rn(Gi,[Bi,ah,ji,lh]),oa=5*60*1e3;function sa(e=oa){return r=>{const i=2**r*100+100*Math.random();return i>e?!1:i}}const qi=e=>{const n=sa(is)(e);return n===!1?is:n},fh=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch","BadRequestException"],dh=e=>!!e&&fh.includes(e),zi=e=>async(t,n)=>{const r=n??await e(t)??void 0,i=(r==null?void 0:r.code)||(r==null?void 0:r.name),o=t==null?void 0:t.statusCode;return{retryable:yh(n)||gh(o,i)||dh(i)||mh(o,i)}},hh=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException"],ph=["TimeoutError","RequestTimeout","RequestTimeoutException"],gh=(e,t)=>e===429||!!t&&hh.includes(t),yh=e=>[xt.NetworkError,"ERR_NETWORK"].includes(e==null?void 0:e.name),mh=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&ph.includes(t),mt=URL,ca=URLSearchParams,bh="cognito-identity",Sh=({region:e})=>({url:new mt(`https://cognito-identity.${e}.${na(e)}`)}),vh=()=>e=>async function(n){return n.headers["cache-control"]="no-store",e(n)},aa=Rn(ia,[vh]),Ji={service:bh,endpointResolver:Sh,retryDecider:zi(Bt),computeDelay:qi,userAgentValue:On(),cache:"no-store"};md(()=>{Ji.userAgentValue=On()});const la=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityService.${e}`}),ua=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"}),_h=(e,t)=>{const n=la("GetId"),r=JSON.stringify(e);return ua(t,n,r)},wh=async e=>{if(e.statusCode>=300)throw await Bt(e);return{IdentityId:(await Pr(e)).IdentityId,$metadata:Nr(e)}},Ih=Wi(aa,_h,wh,Ji),Eh=(e,t)=>{const n=la("GetCredentialsForIdentity"),r=JSON.stringify(e);return ua(t,n,r)},Th=async e=>{if(e.statusCode>=300)throw await Bt(e);{const t=await Pr(e);return{IdentityId:t.IdentityId,Credentials:Ah(t.Credentials),$metadata:Nr(e)}}},Ah=({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r}={})=>({AccessKeyId:e,SecretKey:t,SessionToken:n,Expiration:r&&new Date(r*1e3)}),ss=Wi(aa,Eh,Th,Ji);class tn extends Ee{constructor(){super({name:xt.PlatformNotSupported,message:"Function not supported on current platform"})}}class fa{constructor(t){this.storage=t}async setItem(t,n){if(!this.storage)throw new tn;this.storage.setItem(t,n)}async getItem(t){if(!this.storage)throw new tn;return this.storage.getItem(t)}async removeItem(t){if(!this.storage)throw new tn;this.storage.removeItem(t)}async clear(){if(!this.storage)throw new tn;this.storage.clear()}}class da{constructor(){this.storage=new Map}get length(){return this.storage.size}key(t){return t>this.length-1?null:Array.from(this.storage.keys())[t]}setItem(t,n){this.storage.set(t,n)}getItem(t){return this.storage.get(t)??null}removeItem(t){this.storage.delete(t)}clear(){this.storage.clear()}}const ha=new de("CoreStorageUtils"),Ch=()=>{try{if(typeof window<"u"&&window.localStorage)return window.localStorage}catch{ha.info("localStorage not found. InMemoryStorage is used as a fallback.")}return new da},pa=()=>{try{if(typeof window<"u"&&window.sessionStorage)return window.sessionStorage.getItem("test"),window.sessionStorage;throw new Error("sessionStorage is not defined")}catch{return ha.info("sessionStorage not found. InMemoryStorage is used as a fallback."),new da}};class xh extends fa{constructor(){super(Ch())}}class Oh extends fa{constructor(){super(pa())}}class Rh{constructor(t){this._storage=t}get storage(){if(!this._storage)throw new tn;return this._storage}setItem(t,n){this.storage.setItem(t,n)}getItem(t){return this.storage.getItem(t)}removeItem(t){this.storage.removeItem(t)}clear(){this.storage.clear()}}class Nh extends Rh{constructor(){super(pa())}}/*! js-cookie v3.0.5 | MIT */function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Ph={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function ui(e,t){function n(i,o,s){if(!(typeof document>"u")){s=Vn({},t,s),typeof s.expires=="number"&&(s.expires=new Date(Date.now()+s.expires*864e5)),s.expires&&(s.expires=s.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="";for(var a in s)s[a]&&(c+="; "+a,s[a]!==!0&&(c+="="+s[a].split(";")[0]));return document.cookie=i+"="+e.write(o,i)+c}}function r(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var o=document.cookie?document.cookie.split("; "):[],s={},c=0;c<o.length;c++){var a=o[c].split("="),l=a.slice(1).join("=");try{var u=decodeURIComponent(a[0]);if(s[u]=e.read(l,u),i===u)break}catch{}}return i?s[i]:s}}return Object.create({set:n,get:r,remove:function(i,o){n(i,"",Vn({},o,{expires:-1}))},withAttributes:function(i){return ui(this.converter,Vn({},this.attributes,i))},withConverter:function(i){return ui(Vn({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Wn=ui(Ph,{path:"/"});class kh{constructor(t={}){const{path:n,domain:r,expires:i,sameSite:o,secure:s}=t;if(this.domain=r,this.path=n||"/",this.expires=Object.prototype.hasOwnProperty.call(t,"expires")?i:365,this.secure=Object.prototype.hasOwnProperty.call(t,"secure")?s:!0,Object.prototype.hasOwnProperty.call(t,"sameSite")){if(!o||!["strict","lax","none"].includes(o))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if(o==="none"&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=o}}async setItem(t,n){Wn.set(t,n,this.getData())}async getItem(t){return Wn.get(t)??null}async removeItem(t){Wn.remove(t,this.getData())}async clear(){const t=Wn.get(),n=Object.keys(t).map(r=>this.removeItem(r));await Promise.all(n)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}}const kr=new xh;new Oh;new Nh;const ga=e=>Object.keys(e).map(t=>t.toLowerCase()).sort().join(";"),Dh="X-Amz-Date",Mh="X-Amz-Security-Token",Lh="authorization",Uh="host",Kh=Dh.toLowerCase(),Fh=Mh.toLowerCase(),ya="aws4_request",ma="AWS4-HMAC-SHA256",Hh="AWS4",$h="e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855",Vh="UNSIGNED-PAYLOAD",Wh=(e,t,n)=>`${e}/${t}/${n}/${ya}`,jh=e=>{const t=e.toISOString().replace(/[:-]|\.\d{3}/g,"");return{longDate:t,shortDate:t.slice(0,8)}},Bh=({credentials:e,signingDate:t=new Date,signingRegion:n,signingService:r,uriEscapePath:i=!0})=>{const{accessKeyId:o,secretAccessKey:s,sessionToken:c}=e,{longDate:a,shortDate:l}=jh(t),u=Wh(l,n,r);return{accessKeyId:o,credentialScope:u,longDate:a,secretAccessKey:s,sessionToken:c,shortDate:l,signingRegion:n,signingService:r,uriEscapePath:i}},nn=(e,t)=>{const n=new qf(e??void 0);return n.update(t),n.digestSync()},fi=(e,t)=>{const n=nn(e,t);return Jf(n)},Gh=e=>Object.entries(e).map(([t,n])=>({key:t.toLowerCase(),value:(n==null?void 0:n.trim().replace(/\s+/g," "))??""})).sort((t,n)=>t.key<n.key?-1:1).map(t=>`${t.key}:${t.value}
`).join(""),qh=e=>Array.from(e).sort(([t,n],[r,i])=>t===r?n<i?-1:1:t<r?-1:1).map(([t,n])=>`${cs(t)}=${cs(n)}`).join("&"),cs=e=>encodeURIComponent(e).replace(/[!'()*]/g,zh),zh=e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`,Jh=(e,t=!0)=>e?t?encodeURIComponent(e).replace(/%2F/g,"/"):e:"/",Yh=e=>e==null?$h:Qh(e)?fi(null,e):Vh,Qh=e=>typeof e=="string"||ArrayBuffer.isView(e)||Xh(e),Xh=e=>typeof ArrayBuffer=="function"&&e instanceof ArrayBuffer||Object.prototype.toString.call(e)==="[object ArrayBuffer]",Zh=({body:e,headers:t,method:n,url:r},i=!0)=>[n,Jh(r.pathname,i),qh(r.searchParams),Gh(t),ga(t),Yh(e)].join(`
`),ep=(e,t,n,r)=>{const i=`${Hh}${e}`,o=nn(i,t),s=nn(o,n),c=nn(s,r);return nn(c,ya)},tp=(e,t,n)=>[ma,e,t,n].join(`
`),np=(e,{credentialScope:t,longDate:n,secretAccessKey:r,shortDate:i,signingRegion:o,signingService:s,uriEscapePath:c})=>{const a=Zh(e,c),l=fi(null,a),u=tp(n,t,l);return fi(ep(r,i,o,s),u)},ba=(e,t)=>{const n=Bh(t),{accessKeyId:r,credentialScope:i,longDate:o,sessionToken:s}=n,c={...e.headers};c[Uh]=e.url.host,c[Kh]=o,s&&(c[Fh]=s);const a={...e,headers:c},l=np(a,n),u=`Credential=${r}/${i}`,h=`SignedHeaders=${ga(c)}`,g=`Signature=${l}`;return c[Lh]=`${ma} ${u}, ${h}, ${g}`,a},Sa=e=>new Date(Date.now()+e),rp=5*60*1e3,ip=(e,t)=>Math.abs(Sa(t).getTime()-e)>=rp,op=(e,t)=>ip(e,t)?e-Date.now():t,sp=({credentials:e,region:t,service:n,uriEscapePath:r=!0})=>{let i;return(o,s)=>async function(a){i=i??0;const l={credentials:typeof e=="function"?await e({forceRefresh:!!(s!=null&&s.isCredentialsExpired)}):e,signingDate:Sa(i),signingRegion:t,signingService:n,uriEscapePath:r},u=await ba(a,l),h=await o(u),g=cp(h);return g&&(i=op(Date.parse(g),i)),h}},cp=({headers:e}={})=>(e==null?void 0:e.date)??(e==null?void 0:e.Date)??(e==null?void 0:e["x-amz-date"]);class ap extends Error{constructor(){super(...arguments),this.nonRetryable=!0}}const lp=(e,t,n=oa,r)=>hf(e,t,sa(n)),up=e=>{let t;return async(...n)=>t||(t=new Promise((r,i)=>{e(...n).then(o=>{r(o)}).catch(o=>{i(o)}).finally(()=>{t=void 0})}),t)};function as({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}class gr extends Ee{get response(){return this._response?fp(this._response):void 0}constructor(t){super(t),this.constructor=gr,Object.setPrototypeOf(this,gr.prototype),t.response&&(this._response=t.response)}}const fp=e=>({...e,headers:{...e.headers}});function dp(e){return Array.from(e,t=>String.fromCodePoint(t)).join("")}const hp={convert(e,t={urlSafe:!1,skipPadding:!1}){const n=typeof e=="string"?e:dp(e);let r=lf()(n);return t.urlSafe&&(r=r.replace(/\+/g,"-").replace(/\//g,"_")),t.skipPadding&&(r=r.replace(/=/g,"")),r}};class q extends Ee{constructor(t){super(t),this.constructor=q,Object.setPrototypeOf(this,q.prototype)}}function pp(e){const t=e==null?void 0:e.split("_")[0];if(!e||e.indexOf("_")<0||!t||typeof t!="string")throw new q({name:"InvalidUserPoolId",message:"Invalid user pool id provided."});return t}function di(e){if(!e||!e.includes(":"))throw new q({name:"InvalidIdentityPoolIdException",message:"Invalid identity pool id provided.",recoverySuggestion:"Make sure a valid identityPoolId is given in the config."});return e.split(":")[0]}const va="UserUnAuthenticatedException",gp="InvalidRedirectException",yp="InvalidAppSchemeException",mp="InvalidPreferredRedirectUrlException";new q({name:gp,message:"signInRedirect or signOutRedirect had an invalid format or was not found.",recoverySuggestion:"Please make sure the signIn/Out redirect in your oauth config is valid."});new q({name:yp,message:"A valid non-http app scheme was not found in the config.",recoverySuggestion:"Please make sure a valid custom app scheme is present in the config."});new q({name:mp,message:"The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.",recoverySuggestion:"Please make sure a matching preferredRedirectUrl is provided."});const bp="InvalidOriginException";new q({name:bp,message:"redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin",recoverySuggestion:"Please call signInWithRedirect from the same origin."});const Sp="TokenRefreshException";function vp(e){if(!e||!e.idToken)throw new q({name:va,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."})}const _p=new q({name:Sp,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),wp=new q({name:va,message:"User needs to be authenticated to call this API.",recoverySuggestion:"Sign in before calling this API again."});function Ip(e){if(Ap(e))throw _p;if(!Tp(e))throw wp}const Ep={inflightOAuth:"inflightOAuth",oauthSignIn:"oauthSignIn",oauthPKCE:"oauthPKCE",oauthState:"oauthState"};function _a(e){return(e==null?void 0:e.accessToken)||(e==null?void 0:e.idToken)}function Tp(e){return _a(e)&&(e==null?void 0:e.refreshToken)}function Ap(e){return _a(e)&&!(e!=null&&e.refreshToken)}const Cp=e=>(t,n)=>{const r=xp(e),i=JSON.stringify(t);return Op(n,r,i)},xp=e=>({"content-type":"application/x-amz-json-1.1","x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),Op=({url:e},t,n)=>({headers:t,url:e,body:n,method:"POST"});function In(e){if(!e||e.name==="Error"||e instanceof TypeError)throw new q({name:xt.Unknown,message:"An unknown error has occurred.",underlyingError:e})}const Rp=()=>async e=>{if(e.statusCode>=300){const t=await Bt(e);throw In(t),new q({name:t.name,message:t.message,metadata:t.$metadata})}return Pr(e)},Np=()=>(e,t)=>async function(r){return r.headers["cache-control"]="no-store",e(r)},Pp=Rn(ia,[Np]),wa="cognito-idp",kp={service:wa,retryDecider:zi(Bt),computeDelay:qi,userAgentValue:On(),cache:"no-store"},Dp=e=>Wi(Pp,Cp("InitiateAuth"),Rp(),{...kp,...e}),Mp=({region:e})=>({url:new mt(`https://${wa}.${e}.${na(e)}`)}),Lp=({endpointOverride:e})=>t=>e?{url:new mt(e)}:Mp(t);function Up({username:e,userPoolId:t,userPoolClientId:n}){if(typeof window>"u")return;const r=window.AmazonCognitoAdvancedSecurityData;if(typeof r>"u")return;const i=r.getData(e,t,n);return i?{EncodedData:i}:{}}const Kp=async({tokens:e,authConfig:t,username:n})=>{var P;ye(t==null?void 0:t.Cognito);const{userPoolId:r,userPoolClientId:i,userPoolEndpoint:o}=t.Cognito,s=pp(r);Ip(e);const c=e.refreshToken,a={REFRESH_TOKEN:c};(P=e.deviceMetadata)!=null&&P.deviceKey&&(a.DEVICE_KEY=e.deviceMetadata.deviceKey);const l=Up({username:n,userPoolId:r,userPoolClientId:i}),u=Dp({endpointResolver:Lp({endpointOverride:o})}),{AuthenticationResult:h}=await u({region:s},{ClientId:i,AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:a,UserContextData:l}),g=vn((h==null?void 0:h.AccessToken)??""),p=h!=null&&h.IdToken?vn(h.IdToken):void 0,{iat:v}=g.payload;if(!v)throw new q({name:"iatNotFoundException",message:"iat not found in access token"});const w=v*1e3-new Date().getTime();return{accessToken:g,idToken:p,clockDrift:w,refreshToken:c,username:n}},Fp=up(Kp),Hp={accessToken:"accessToken",idToken:"idToken",oidcProvider:"oidcProvider",clockDrift:"clockDrift",refreshToken:"refreshToken",deviceKey:"deviceKey",randomPasswordKey:"randomPasswordKey",deviceGroupKey:"deviceGroupKey",signInDetails:"signInDetails",oauthMetadata:"oauthMetadata"};var yr;(function(e){e.InvalidAuthTokens="InvalidAuthTokens"})(yr||(yr={}));const $p={[yr.InvalidAuthTokens]:{message:"Invalid tokens.",recoverySuggestion:"Make sure the tokens are valid."}},Vp=xc($p),ls="CognitoIdentityServiceProvider";class Wp{getKeyValueStorage(){if(!this.keyValueStorage)throw new q({name:"KeyValueStorageNotFoundException",message:"KeyValueStorage was not found in TokenStore"});return this.keyValueStorage}setKeyValueStorage(t){this.keyValueStorage=t}setAuthConfig(t){this.authConfig=t}async loadTokens(){try{const t=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t.accessToken);if(!n)throw new q({name:"NoSessionFoundException",message:"Auth session was not found. Make sure to call signIn."});const r=vn(n),i=await this.getKeyValueStorage().getItem(t.idToken),o=i?vn(i):void 0,s=await this.getKeyValueStorage().getItem(t.refreshToken)??void 0,c=await this.getKeyValueStorage().getItem(t.clockDrift)??"0",a=Number.parseInt(c),l=await this.getKeyValueStorage().getItem(t.signInDetails),u={accessToken:r,idToken:o,refreshToken:s,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:a,username:await this.getLastAuthUser()};return l&&(u.signInDetails=JSON.parse(l)),u}catch{return null}}async storeTokens(t){Vp(t!==void 0,yr.InvalidAuthTokens);const n=t.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),n);const r=await this.getAuthKeys();await this.getKeyValueStorage().setItem(r.accessToken,t.accessToken.toString()),t.idToken?await this.getKeyValueStorage().setItem(r.idToken,t.idToken.toString()):await this.getKeyValueStorage().removeItem(r.idToken),t.refreshToken?await this.getKeyValueStorage().setItem(r.refreshToken,t.refreshToken):await this.getKeyValueStorage().removeItem(r.refreshToken),t.deviceMetadata&&(t.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(r.deviceKey,t.deviceMetadata.deviceKey),t.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(r.deviceGroupKey,t.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(r.randomPasswordKey,t.deviceMetadata.randomPassword)),t.signInDetails?await this.getKeyValueStorage().setItem(r.signInDetails,JSON.stringify(t.signInDetails)):await this.getKeyValueStorage().removeItem(r.signInDetails),await this.getKeyValueStorage().setItem(r.clockDrift,`${t.clockDrift}`)}async clearTokens(){const t=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(t.accessToken),this.getKeyValueStorage().removeItem(t.idToken),this.getKeyValueStorage().removeItem(t.clockDrift),this.getKeyValueStorage().removeItem(t.refreshToken),this.getKeyValueStorage().removeItem(t.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(t.oauthMetadata)])}async getDeviceMetadata(t){const n=await this.getAuthKeys(t),r=await this.getKeyValueStorage().getItem(n.deviceKey),i=await this.getKeyValueStorage().getItem(n.deviceGroupKey),o=await this.getKeyValueStorage().getItem(n.randomPasswordKey);return o&&i&&r?{deviceKey:r,deviceGroupKey:i,randomPassword:o}:null}async clearDeviceMetadata(t){const n=await this.getAuthKeys(t);await Promise.all([this.getKeyValueStorage().removeItem(n.deviceKey),this.getKeyValueStorage().removeItem(n.deviceGroupKey),this.getKeyValueStorage().removeItem(n.randomPasswordKey)])}async getAuthKeys(t){var r;ye((r=this.authConfig)==null?void 0:r.Cognito);const n=t??await this.getLastAuthUser();return jp(ls,`${this.authConfig.Cognito.userPoolClientId}.${n}`)}getLastAuthUserKey(){var n;ye((n=this.authConfig)==null?void 0:n.Cognito);const t=this.authConfig.Cognito.userPoolClientId;return`${ls}.${t}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??"username"}async setOAuthMetadata(t){const{oauthMetadata:n}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n,JSON.stringify(t))}async getOAuthMetadata(){const{oauthMetadata:t}=await this.getAuthKeys(),n=await this.getKeyValueStorage().getItem(t);return n&&JSON.parse(n)}}const jp=(e,t)=>Yi(Hp)(`${e}`,t);function Yi(e){const t=Object.values({...e});return(n,r)=>t.reduce((i,o)=>({...i,[o]:`${n}.${r}.${o}`}),{})}const us="amplify-signin-with-hostedUI",je="CognitoIdentityServiceProvider";class Bp{constructor(t){this.keyValueStorage=t}async clearOAuthInflightData(){ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(t.inflightOAuth),this.keyValueStorage.removeItem(t.oauthPKCE),this.keyValueStorage.removeItem(t.oauthState)])}async clearOAuthData(){ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(us),this.keyValueStorage.removeItem(t.oauthSignIn)}loadOAuthState(){ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthState)}storeOAuthState(t){ye(this.cognitoConfig);const n=Be(je,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthState,t)}loadPKCE(){ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(t.oauthPKCE)}storePKCE(t){ye(this.cognitoConfig);const n=Be(je,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(n.oauthPKCE,t)}setAuthConfig(t){this.cognitoConfig=t}async loadOAuthInFlight(){ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(t.inflightOAuth)==="true"}async storeOAuthInFlight(t){ye(this.cognitoConfig);const n=Be(je,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.inflightOAuth,`${t}`)}async loadOAuthSignIn(){var o;ye(this.cognitoConfig);const t=Be(je,this.cognitoConfig.userPoolClientId),n=await this.keyValueStorage.getItem(us),[r,i]=((o=await this.keyValueStorage.getItem(t.oauthSignIn))==null?void 0:o.split(","))??[];return{isOAuthSignIn:r==="true"||n==="true",preferPrivateSession:i==="true"}}async storeOAuthSignIn(t,n=!1){ye(this.cognitoConfig);const r=Be(je,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(r.oauthSignIn,`${t},${n}`)}}const Be=(e,t)=>Yi(Ep)(e,t),fs=new Bp(kr);class Gp{constructor(){this.waitForInflightOAuth=eh()?async()=>{if(await fs.loadOAuthInFlight())return this.inflightPromise?this.inflightPromise:(this.inflightPromise=new Promise((t,n)=>{}),this.inflightPromise)}:async()=>{}}setAuthConfig(t){fs.setAuthConfig(t.Cognito),this.authConfig=t}setTokenRefresher(t){this.tokenRefresher=t}setAuthTokenStore(t){this.tokenStore=t}getTokenStore(){if(!this.tokenStore)throw new q({name:"EmptyTokenStoreException",message:"TokenStore not set"});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new q({name:"EmptyTokenRefresherException",message:"TokenRefresher not set"});return this.tokenRefresher}async getTokens(t){var s,c,a,l,u;let n;try{ye((s=this.authConfig)==null?void 0:s.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,n=await this.getTokenStore().loadTokens();const r=await this.getTokenStore().getLastAuthUser();if(n===null)return null;const i=!!(n!=null&&n.idToken)&&as({expiresAt:(((a=(c=n.idToken)==null?void 0:c.payload)==null?void 0:a.exp)??0)*1e3,clockDrift:n.clockDrift??0}),o=as({expiresAt:(((u=(l=n.accessToken)==null?void 0:l.payload)==null?void 0:u.exp)??0)*1e3,clockDrift:n.clockDrift??0});return(t!=null&&t.forceRefresh||i||o)&&(n=await this.refreshTokens({tokens:n,username:r}),n===null)?null:{accessToken:n==null?void 0:n.accessToken,idToken:n==null?void 0:n.idToken,signInDetails:n==null?void 0:n.signInDetails}}async refreshTokens({tokens:t,username:n}){try{const{signInDetails:r}=t,i=await this.getTokenRefresher()({tokens:t,authConfig:this.authConfig,username:n});return i.signInDetails=r,await this.setTokens({tokens:i}),dr.dispatch("auth",{event:"tokenRefresh"},"Auth",Sn),i}catch(r){return this.handleErrors(r)}}handleErrors(t){if(In(t),t.name!==xt.NetworkError&&this.clearTokens(),dr.dispatch("auth",{event:"tokenRefresh_failure",data:{error:t}},"Auth",Sn),t.name.startsWith("NotAuthorizedException"))return null;throw t}async setTokens({tokens:t}){return this.getTokenStore().storeTokens(t)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(t){return this.getTokenStore().getDeviceMetadata(t)}clearDeviceMetadata(t){return this.getTokenStore().clearDeviceMetadata(t)}setOAuthMetadata(t){return this.getTokenStore().setOAuthMetadata(t)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}}class qp{constructor(){this.authTokenStore=new Wp,this.authTokenStore.setKeyValueStorage(kr),this.tokenOrchestrator=new Gp,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Fp)}getTokens({forceRefresh:t}={forceRefresh:!1}){return this.tokenOrchestrator.getTokens({forceRefresh:t})}setKeyValueStorage(t){this.authTokenStore.setKeyValueStorage(t)}setAuthConfig(t){this.authTokenStore.setAuthConfig(t),this.tokenOrchestrator.setAuthConfig(t)}}const rn=new qp,{tokenOrchestrator:Ny}=rn,zp={identityId:"identityId"},Jp=new de("DefaultIdentityIdStore");class Ia{setAuthConfig(t){Qn(t.Cognito),this.authConfig=t,this._authKeys=Yp("Cognito",t.Cognito.identityPoolId)}constructor(t){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=t}async loadIdentityId(){var t;Qn((t=this.authConfig)==null?void 0:t.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:"primary"};{const n=await this.keyValueStorage.getItem(this._authKeys.identityId);return n?(this._hasGuestIdentityId=!0,{id:n,type:"guest"}):null}}catch(n){return Jp.log("Error getting stored IdentityId.",n),null}}async storeIdentityId(t){var n;Qn((n=this.authConfig)==null?void 0:n.Cognito),t.type==="guest"?(this.keyValueStorage.setItem(this._authKeys.identityId,t.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=t.id,this._hasGuestIdentityId&&(this.keyValueStorage.removeItem(this._authKeys.identityId),this._hasGuestIdentityId=!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}}const Yp=(e,t)=>Yi(zp)(`com.amplify.${e}`,t);function Ea(e){const t=vn(e).payload.iss,n={};if(!t)throw new q({name:"InvalidIdTokenException",message:"Invalid Idtoken."});const r=t.replace(/(^\w+:|^)\/\//,"");return n[r]=e,n}async function Qp({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});const r=await n.loadIdentityId();if(r)return r.id;const i=e!=null&&e.idToken?Ea(e.idToken.toString()):{},o=await Xp(i,t);return n.storeIdentityId({id:o,type:e?"primary":"guest"}),o}async function Xp(e,t){const n=t==null?void 0:t.identityPoolId,r=di(n);let i;try{i=(await Ih({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(o){throw In(o),new q(o)}if(!i)throw new q({name:"GetIdResponseException",message:"Received undefined response from getId operation",recoverySuggestion:"Make sure to pass a valid identityPoolId in the configuration."});return i}const jn=new de("CognitoCredentialsProvider"),ds=50*60*1e3;class Ta{constructor(t){this._nextCredentialsRefresh=0,this._identityIdStore=t}async clearCredentialsAndIdentityId(){jn.debug("Clearing out credentials and identityId"),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){jn.debug("Clearing out in-memory credentials"),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(t){const n=t.authenticated,{tokens:r}=t,{authConfig:i}=t;try{Qn(i==null?void 0:i.Cognito)}catch{return}if(!n&&!i.Cognito.allowGuestAccess)return;const{forceRefresh:o}=t,s=this.hasTokenChanged(r),c=await Qp({tokens:r,authConfig:i.Cognito,identityIdStore:this._identityIdStore});return(o||s)&&this.clearCredentials(),n?(vp(r),this.credsForOIDCTokens(i.Cognito,r,c)):this.getGuestCredentials(c,i.Cognito)}async getGuestCredentials(t,n){var o,s;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return jn.info("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const r=di(n.identityPoolId);let i;try{i=await ss({region:r},{IdentityId:t})}catch(c){throw In(c),new q(c)}if((o=i==null?void 0:i.Credentials)!=null&&o.AccessKeyId&&((s=i==null?void 0:i.Credentials)!=null&&s.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+ds;const c={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:t};return i.IdentityId&&(c.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:"guest"})),this._credentialsAndIdentityId={...c,isAuthenticatedCreds:!1},c}else throw new q({name:"CredentialsNotFoundException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}async credsForOIDCTokens(t,n,r){var c,a,l;if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return jn.debug("returning stored credentials as they neither past TTL nor expired."),this._credentialsAndIdentityId;this.clearCredentials();const i=n.idToken?Ea(n.idToken.toString()):{},o=di(t.identityPoolId);let s;try{s=await ss({region:o},{IdentityId:r,Logins:i})}catch(u){throw In(u),new q(u)}if((c=s==null?void 0:s.Credentials)!=null&&c.AccessKeyId&&((a=s==null?void 0:s.Credentials)!=null&&a.SecretKey)){this._nextCredentialsRefresh=new Date().getTime()+ds;const u={credentials:{accessKeyId:s.Credentials.AccessKeyId,secretAccessKey:s.Credentials.SecretKey,sessionToken:s.Credentials.SessionToken,expiration:s.Credentials.Expiration},identityId:r};return s.IdentityId&&(u.identityId=s.IdentityId,this._identityIdStore.storeIdentityId({id:s.IdentityId,type:"primary"})),this._credentialsAndIdentityId={...u,isAuthenticatedCreds:!0,associatedIdToken:(l=n.idToken)==null?void 0:l.toString()},u}else throw new q({name:"CredentialsException",message:"Cognito did not respond with either Credentials, AccessKeyId or SecretKey."})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(t){var n,r;return!!t&&!!((n=this._credentialsAndIdentityId)!=null&&n.associatedIdToken)&&((r=t.idToken)==null?void 0:r.toString())!==this._credentialsAndIdentityId.associatedIdToken}}const Zp=new Ta(new Ia(kr)),eg={configure(e,t){const n=kc(e),r=new kh({sameSite:"lax"}),i=t!=null&&t.ssr?r:kr,o=t!=null&&t.ssr?new Ta(new Ia(r)):Zp;if(!n.Auth){Me.configure(n,t);return}if(t!=null&&t.Auth){Me.configure(n,t);return}if(!Me.libraryOptions.Auth){rn.setAuthConfig(n.Auth),rn.setKeyValueStorage(i),Me.configure(n,{...t,Auth:{tokenProvider:rn,credentialsProvider:o}});return}if(t){const s=Me.libraryOptions.Auth;t.ssr!==void 0&&(rn.setKeyValueStorage(i),s.credentialsProvider=o),Me.configure(n,{Auth:s,...t});return}Me.configure(n)},getConfig(){return Me.getConfig()}};function er(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?er=function(n){return typeof n}:er=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},er(e)}function tg(e){return er(e)=="object"&&e!==null}var ng=typeof Symbol=="function"&&Symbol.toStringTag!=null?Symbol.toStringTag:"@@toStringTag";function hi(e,t){for(var n=/\r\n|[\n\r]/g,r=1,i=t+1,o;(o=n.exec(e.body))&&o.index<t;)r+=1,i=t+1-(o.index+o[0].length);return{line:r,column:i}}function rg(e){return Aa(e.source,hi(e.source,e.start))}function Aa(e,t){var n=e.locationOffset.column-1,r=tr(n)+e.body,i=t.line-1,o=e.locationOffset.line-1,s=t.line+o,c=t.line===1?n:0,a=t.column+c,l="".concat(e.name,":").concat(s,":").concat(a,`
`),u=r.split(/\r\n|[\n\r]/g),h=u[i];if(h.length>120){for(var g=Math.floor(a/80),p=a%80,v=[],w=0;w<h.length;w+=80)v.push(h.slice(w,w+80));return l+hs([["".concat(s),v[0]]].concat(v.slice(1,g+1).map(function(P){return["",P]}),[[" ",tr(p-1)+"^"],["",v[g+1]]]))}return l+hs([["".concat(s-1),u[i-1]],["".concat(s),h],["",tr(a-1)+"^"],["".concat(s+1),u[i+1]]])}function hs(e){var t=e.filter(function(r){r[0];var i=r[1];return i!==void 0}),n=Math.max.apply(Math,t.map(function(r){var i=r[0];return i.length}));return t.map(function(r){var i=r[0],o=r[1];return ig(n,i)+(o?" | "+o:" |")}).join(`
`)}function tr(e){return Array(e+1).join(" ")}function ig(e,t){return tr(e-t.length)+t}function nr(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nr=function(n){return typeof n}:nr=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},nr(e)}function ps(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function og(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ps(Object(n),!0).forEach(function(r){sg(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ps(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sg(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ag(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lg(e,t,n){return t&&ag(e.prototype,t),e}function ug(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&En(e,t)}function fg(e){var t=xa();return function(){var r=Tn(e),i;if(t){var o=Tn(this).constructor;i=Reflect.construct(r,arguments,o)}else i=r.apply(this,arguments);return Ca(this,i)}}function Ca(e,t){return t&&(nr(t)==="object"||typeof t=="function")?t:on(e)}function on(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pi(e){var t=typeof Map=="function"?new Map:void 0;return pi=function(r){if(r===null||!dg(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(r))return t.get(r);t.set(r,i)}function i(){return rr(r,arguments,Tn(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),En(i,r)},pi(e)}function rr(e,t,n){return xa()?rr=Reflect.construct:rr=function(i,o,s){var c=[null];c.push.apply(c,o);var a=Function.bind.apply(i,c),l=new a;return s&&En(l,s.prototype),l},rr.apply(null,arguments)}function xa(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function dg(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function En(e,t){return En=Object.setPrototypeOf||function(r,i){return r.__proto__=i,r},En(e,t)}function Tn(e){return Tn=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},Tn(e)}var qr=function(e){ug(n,e);var t=fg(n);function n(r,i,o,s,c,a,l){var u,h,g,p;cg(this,n),p=t.call(this,r),p.name="GraphQLError",p.originalError=a??void 0,p.nodes=gs(Array.isArray(i)?i:i?[i]:void 0);for(var v=[],w=0,P=(k=p.nodes)!==null&&k!==void 0?k:[];w<P.length;w++){var k,U=P[w],K=U.loc;K!=null&&v.push(K)}v=gs(v),p.source=o??((u=v)===null||u===void 0?void 0:u[0].source),p.positions=s??((h=v)===null||h===void 0?void 0:h.map(function(L){return L.start})),p.locations=s&&o?s.map(function(L){return hi(o,L)}):(g=v)===null||g===void 0?void 0:g.map(function(L){return hi(L.source,L.start)}),p.path=c??void 0;var x=a==null?void 0:a.extensions;return l==null&&tg(x)?p.extensions=og({},x):p.extensions=l??{},Object.defineProperties(on(p),{message:{enumerable:!0},locations:{enumerable:p.locations!=null},path:{enumerable:p.path!=null},extensions:{enumerable:p.extensions!=null&&Object.keys(p.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),a!=null&&a.stack?(Object.defineProperty(on(p),"stack",{value:a.stack,writable:!0,configurable:!0}),Ca(p)):(Error.captureStackTrace?Error.captureStackTrace(on(p),n):Object.defineProperty(on(p),"stack",{value:Error().stack,writable:!0,configurable:!0}),p)}return lg(n,[{key:"toString",value:function(){return hg(this)}},{key:ng,get:function(){return"Object"}}]),n}(pi(Error));function gs(e){return e===void 0||e.length===0?void 0:e}function hg(e){var t=e.message;if(e.nodes)for(var n=0,r=e.nodes;n<r.length;n++){var i=r[n];i.loc&&(t+=`

`+rg(i.loc))}else if(e.source&&e.locations)for(var o=0,s=e.locations;o<s.length;o++){var c=s[o];t+=`

`+Aa(e.source,c)}return t}class An extends gr{constructor(t){super(t),this.constructor=An,Object.setPrototypeOf(this,An.prototype)}}class mr extends An{constructor(t={}){super({name:"CanceledError",message:"Request is canceled by user",...t}),this.constructor=mr,Object.setPrototypeOf(this,mr.prototype)}}var gi;(function(e){e.InvalidApiName="InvalidApiName"})(gi||(gi={}));gi.InvalidApiName+"";const Oa=async e=>{var n;if(!e)return;const t=await Bt(pg(e));if(t){const r=await((n=e.body)==null?void 0:n.text());return gg(t,{statusCode:e.statusCode,headers:e.headers,body:r})}},pg=e=>{let t;const n=new Proxy(e.body,{get(i,o,s){return o==="json"?async()=>{t||(t=i.text());try{return JSON.parse(await t)}catch{return{}}}:o==="text"?async()=>(t||(t=i.text()),t):Reflect.get(i,o,s)}});return new Proxy(e,{get(i,o,s){return o==="body"?n:Reflect.get(i,o,s)}})},gg=(e,t)=>{const n=new An({name:e==null?void 0:e.name,message:e.message,underlyingError:e,response:t});return Object.assign(n,{$metadata:e.$metadata})},yi=new de("RestApis");function yg(e,t){const n=a=>!!t,r=new AbortController,i=r.signal,o=t==null?void 0:t.signal;let s;const c=async()=>{try{const a=await(n(e)?e():e(i));if(a.statusCode>=300)throw await Oa(a);return a}catch(a){const l=o??i,u=s??l.reason;if(a.name==="AbortError"||(l==null?void 0:l.aborted)===!0){const h=new mr({...u&&{message:u},underlyingError:a,recoverySuggestion:"The API request was explicitly canceled. If this is not intended, validate if you called the `cancel()` function on the API request erroneously."});throw yi.debug(a),h}throw yi.debug(a),a}};if(n())return c();{const a=l=>{i.aborted!==!0&&(r.abort(l),l&&i.reason!==l&&(s=l))};return{response:c(),cancel:a}}}const ys="execute-api",mg="us-east-1",bg=/^.+\.([a-z0-9-]+)\.([a-z0-9-]+)\.amazonaws\.com/,Sg=(e,t)=>{const{service:n=ys,region:r=mg}={},{hostname:i}=e,[,o,s]=bg.exec(i)??[];return o===ys?{service:o,region:s??r}:o==="appsync-api"?{service:"appsync",region:s??r}:{service:n,region:r}},vg=({headers:e},t)=>!e.authorization&&!e["x-api-key"]&&!!t,_g=(e,t)=>{const n={};for(const r in e)n[r.toLowerCase()]=e[r];return t&&(n["content-type"]="application/json; charset=UTF-8",t instanceof FormData&&delete n["content-type"]),n},wg=Rn(Gi,[Bi,ji,sp]),Ig=Rn(Gi,[Bi,ji]),Eg=async(e,t,n,r)=>{var U,K,x;const{url:i,method:o,headers:s,body:c,withCredentials:a,abortSignal:l,retryStrategy:u}=t,h=c?c instanceof FormData?c:JSON.stringify(c??""):void 0,g=_g(s,c),p={url:i,headers:g,method:o,body:h},v={retryDecider:Tg(u??((x=(K=(U=e==null?void 0:e.libraryOptions)==null?void 0:U.API)==null?void 0:K.REST)==null?void 0:x.retryStrategy)),computeDelay:qi,withCrossDomainCredentials:a,abortSignal:l},w=n(p,r);let P;const k=await Ag(e);if(w&&k){const L=Sg(i),Ae=(r==null?void 0:r.service)??L.service,ce=(r==null?void 0:r.region)??L.region;P=await wg(p,{...v,credentials:k,region:ce,service:Ae})}else P=await Ig(p,{...v});return{statusCode:P.statusCode,headers:P.headers,body:P.body}},Tg=e=>(e==null?void 0:e.strategy)==="no-retry"?()=>Promise.resolve({retryable:!1}):zi(Oa),Ag=async e=>{try{const{credentials:t}=await e.Auth.fetchAuthSession();if(t)return t}catch{yi.debug("No credentials available, the request will be unsigned.")}return null},Cg=new WeakMap,xg=(e,{url:t,options:n,abortController:r})=>{const i=r??new AbortController,s=yg(async()=>Eg(e,{url:t,method:"POST",...n,abortSignal:i.signal,retryStrategy:{strategy:"jittered-exponential-backoff"}},vg,n==null?void 0:n.signingServiceInfo),i).finally(()=>{Cg.delete(s)});return s},Og=5e3,Rg=[400,401,403],Ng=["BadRequestException","UnauthorizedException"],Pg="ConnectionStateChange";var we;(function(e){e.GQL_CONNECTION_INIT="connection_init",e.GQL_CONNECTION_ERROR="connection_error",e.GQL_CONNECTION_ACK="connection_ack",e.GQL_START="start",e.GQL_START_ACK="start_ack",e.DATA="data",e.GQL_CONNECTION_KEEP_ALIVE="ka",e.GQL_STOP="stop",e.GQL_COMPLETE="complete",e.GQL_ERROR="error",e.EVENT_SUBSCRIBE="subscribe",e.EVENT_PUBLISH="publish",e.EVENT_SUBSCRIBE_ACK="subscribe_success",e.EVENT_PUBLISH_ACK="publish_success",e.EVENT_STOP="unsubscribe",e.EVENT_COMPLETE="unsubscribe_success"})(we||(we={}));var et;(function(e){e[e.PENDING=0]="PENDING",e[e.CONNECTED=1]="CONNECTED",e[e.FAILED=2]="FAILED"})(et||(et={}));var le;(function(e){e[e.CLOSED=0]="CLOSED",e[e.READY=1]="READY",e[e.CONNECTING=2]="CONNECTING"})(le||(le={}));const kg={accept:"application/json, text/javascript","content-encoding":"amz-1.0","content-type":"application/json; charset=UTF-8"},ms=15e3,Dg=15e3,Mg=5*60*1e3,Lg=5*1e3,Ug=65*1e3,Kg=5*1e3,Fg=60*1e3;var De;(function(e){e.CONNECTION_CLOSED="Connection closed",e.CONNECTION_FAILED="Connection failed",e.REALTIME_SUBSCRIPTION_INIT_ERROR="AppSync Realtime subscription init error",e.SUBSCRIPTION_ACK="Subscription ack",e.TIMEOUT_DISCONNECT="Timeout disconnect"})(De||(De={}));var Z;(function(e){e.Connected="Connected",e.ConnectedPendingNetwork="ConnectedPendingNetwork",e.ConnectionDisrupted="ConnectionDisrupted",e.ConnectionDisruptedPendingNetwork="ConnectionDisruptedPendingNetwork",e.Connecting="Connecting",e.ConnectedPendingDisconnect="ConnectedPendingDisconnect",e.Disconnected="Disconnected",e.ConnectedPendingKeepAlive="ConnectedPendingKeepAlive"})(Z||(Z={}));const bs=()=>new Ht().networkMonitor(),Re={KEEP_ALIVE_MISSED:{keepAliveState:"unhealthy"},KEEP_ALIVE:{keepAliveState:"healthy"},CONNECTION_ESTABLISHED:{connectionState:"connected"},CONNECTION_FAILED:{intendedConnectionState:"disconnected",connectionState:"disconnected"},CLOSING_CONNECTION:{intendedConnectionState:"disconnected"},OPENING_CONNECTION:{intendedConnectionState:"connected",connectionState:"connecting"},CLOSED:{connectionState:"disconnected"},ONLINE:{networkState:"connected"},OFFLINE:{networkState:"disconnected"}};class Hg{constructor(){this._networkMonitoringSubscription=void 0,this._linkedConnectionState={networkState:"connected",connectionState:"disconnected",intendedConnectionState:"disconnected",keepAliveState:"healthy"},this._initialNetworkStateSubscription=bs().subscribe(({online:t})=>{var n;this.record(t?Re.ONLINE:Re.OFFLINE),(n=this._initialNetworkStateSubscription)==null||n.unsubscribe()}),this._linkedConnectionStateObservable=new Te(t=>{t.next(this._linkedConnectionState),this._linkedConnectionStateObserver=t})}enableNetworkMonitoring(){var t;(t=this._initialNetworkStateSubscription)==null||t.unsubscribe(),this._networkMonitoringSubscription===void 0&&(this._networkMonitoringSubscription=bs().subscribe(({online:n})=>{this.record(n?Re.ONLINE:Re.OFFLINE)}))}disableNetworkMonitoring(){var t;(t=this._networkMonitoringSubscription)==null||t.unsubscribe(),this._networkMonitoringSubscription=void 0}get connectionStateObservable(){let t;return this._linkedConnectionStateObservable.pipe(Qd(n=>this.connectionStatesTranslator(n))).pipe(Xd(n=>{const r=n!==t;return t=n,r}))}record(t){var r;t.intendedConnectionState==="connected"?this.enableNetworkMonitoring():t.intendedConnectionState==="disconnected"&&this.disableNetworkMonitoring();const n={...this._linkedConnectionState,...t};this._linkedConnectionState={...n},(r=this._linkedConnectionStateObserver)==null||r.next(this._linkedConnectionState)}connectionStatesTranslator({connectionState:t,networkState:n,intendedConnectionState:r,keepAliveState:i}){return t==="connected"&&n==="disconnected"?Z.ConnectedPendingNetwork:t==="connected"&&r==="disconnected"?Z.ConnectedPendingDisconnect:t==="disconnected"&&r==="connected"&&n==="disconnected"?Z.ConnectionDisruptedPendingNetwork:t==="disconnected"&&r==="connected"?Z.ConnectionDisrupted:t==="connected"&&i==="unhealthy"?Z.ConnectedPendingKeepAlive:t==="connecting"?Z.Connecting:t==="disconnected"?Z.Disconnected:Z.Connected}}var Wt;(function(e){e.START_RECONNECT="START_RECONNECT",e.HALT_RECONNECT="HALT_RECONNECT"})(Wt||(Wt={}));class $g{constructor(){this.reconnectObservers=[]}addObserver(t){this.reconnectObservers.push(t)}record(t){t===Wt.START_RECONNECT&&this.reconnectSetTimeoutId===void 0&&this.reconnectIntervalId===void 0&&(this.reconnectSetTimeoutId=setTimeout(()=>{this._triggerReconnect(),this.reconnectIntervalId=setInterval(()=>{this._triggerReconnect()},Fg)},Kg)),t===Wt.HALT_RECONNECT&&(this.reconnectIntervalId&&(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=void 0),this.reconnectSetTimeoutId&&(clearTimeout(this.reconnectSetTimeoutId),this.reconnectSetTimeoutId=void 0))}close(){this.reconnectObservers.forEach(t=>{var n;(n=t.complete)==null||n.call(t)})}_triggerReconnect(){this.reconnectObservers.forEach(t=>{var n;(n=t.next)==null||n.call(t)})}}const Ss="wss://",Vg=/^https:\/\/\w{26}\.appsync-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/graphql$/i,Wg=/^https:\/\/\w{26}\.\w+-api\.\w{2}(?:(?:-\w{2,})+)-\d\.amazonaws.com(?:\.cn)?\/event$/i,vs="/realtime",jg=e=>e.match(Vg)===null,Bg=e=>e.match(Wg)!==null,Gg=e=>{let t=e??"";return Bg(t)?t=t.concat(vs).replace("ddpg-api","grt-gamma").replace("appsync-api","appsync-realtime-api"):jg(t)?t=t.concat(vs):t=t.replace("appsync-api","appsync-realtime-api").replace("gogi-beta","grt-beta").replace("ddpg-api","grt-gamma"),t=t.replace("https://",Ss).replace("http://",Ss),new mt(t)},qg=e=>{if(!e)return{};if("Authorization"in e){const{Authorization:t,...n}=e;return n}return e},zg=e=>{const t=qg(e),n=new ca;return Object.entries(t).forEach(([r,i])=>{n.append(r,i)}),n},Jg=(e,t)=>{const n=Gg(e),r=new ca(n.search);for(const[i,o]of t.entries())r.append(i,o);return n.search=r.toString(),n.toString()},zr=async e=>{const{appSyncGraphqlEndpoint:t,query:n,libraryConfigHeaders:r=()=>({}),additionalHeaders:i={},authToken:o}=e;let s={};const c=await r();return typeof i=="function"?s=await i({url:t||"",queryString:n||""}):s=i,o&&(s={...s,Authorization:o}),{additionalCustomHeaders:s,libraryConfigHeaders:c}},_s=new de("AWSAppSyncRealTimeProvider Auth"),ws=async({host:e})=>{var n,r;const t=await ea();return{Authorization:(r=(n=t==null?void 0:t.tokens)==null?void 0:n.accessToken)==null?void 0:r.toString(),host:e}},Yg=async({apiKey:e,host:t})=>{const r=new Date().toISOString().replace(/[:-]|\.\d{3}/g,"");return{host:t,"x-amz-date":r,"x-api-key":e}},Qg=async({payload:e,canonicalUri:t,appSyncGraphqlEndpoint:n,region:r})=>{const i={region:r,service:"appsync"},o=(await ea()).credentials,s={url:`${n}${t}`,data:e,method:"POST",headers:{...kg}};return ba({headers:s.headers,method:s.method,url:new mt(s.url),body:s.data},{credentials:o,signingRegion:i.region,signingService:i.service}).headers},Is=async({host:e,additionalCustomHeaders:t})=>{if(!(t!=null&&t.Authorization))throw new Error("No auth token specified");return{Authorization:t.Authorization,host:e}},Ra=async({apiKey:e,authenticationType:t,canonicalUri:n,appSyncGraphqlEndpoint:r,region:i,additionalCustomHeaders:o,payload:s})=>{const c={apiKey:Yg,iam:Qg,oidc:ws,userPool:ws,lambda:Is,none:Is};if(!t||!c[t]){_s.debug(`Authentication type ${t} not supported`);return}else{const a=c[t],l=r?new mt(r).host:void 0,u=t==="apiKey"?e:void 0;return _s.debug(`Authenticating with ${JSON.stringify(t)}`),await a({payload:s,canonicalUri:n,appSyncGraphqlEndpoint:r,apiKey:u,region:i,host:l,additionalCustomHeaders:o})}},Es=e=>{dr.dispatch("api",e,"PubSub",Sn)};class Xg{constructor(t){this.subscriptionObserverMap=new Map,this.allowNoSubscriptions=!1,this.socketStatus=le.CLOSED,this.keepAliveTimestamp=Date.now(),this.promiseArray=[],this.connectionStateMonitor=new Hg,this.reconnectionMonitor=new $g,this._establishConnection=async(n,r)=>{this.logger.debug(`Establishing WebSocket connection to ${n}`);try{await this._openConnection(n,r),await this._initiateHandshake()}catch(i){const{errorType:o,errorCode:s}=i;throw Rg.includes(s)||Ng.includes(o)?new ap(o):o?new Error(o):i}},this.logger=new de(t.providerName),this.wsProtocolName=t.wsProtocolName,this.wsConnectUri=t.connectUri,this.connectionStateMonitorSubscription=this._startConnectionStateMonitoring()}close(){return this.socketStatus=le.CLOSED,this.connectionStateMonitor.record(Re.CONNECTION_FAILED),this.connectionStateMonitorSubscription.unsubscribe(),this.reconnectionMonitor.close(),new Promise((t,n)=>{this.awsRealTimeSocket?(this.awsRealTimeSocket.onclose=r=>{this._closeSocket(),this.subscriptionObserverMap=new Map,this.awsRealTimeSocket=void 0,t()},this.awsRealTimeSocket.onerror=r=>{n(r)},this.awsRealTimeSocket.close()):t()})}subscribe(t,n){return new Te(r=>{if(!(t!=null&&t.appSyncGraphqlEndpoint)){r.error({errors:[{...new qr("Subscribe only available for AWS AppSync endpoint")}]}),r.complete();return}let i=!1;const o=pr(),s=()=>{i||(i=!0,this._startSubscriptionWithAWSAppSyncRealTime({options:t,observer:r,subscriptionId:o,customUserAgentDetails:n}).catch(a=>{this.logger.debug(`${De.REALTIME_SUBSCRIPTION_INIT_ERROR}: ${a}`),this._closeSocket()}).finally(()=>{i=!1}))},c=new Te(a=>{this.reconnectionMonitor.addObserver(a)}).subscribe(()=>{s()});return s(),async()=>{await this._cleanupSubscription(o,c)}})}async connect(t){this.socketStatus!==le.READY&&await this._connectWebSocket(t)}async publish(t,n){if(this.socketStatus!==le.READY)throw new Error("Subscription has not been initialized");return this._publishMessage(t,n)}async _connectWebSocket(t){const{apiKey:n,appSyncGraphqlEndpoint:r,authenticationType:i,region:o}=t,{additionalCustomHeaders:s}=await zr(t);this.connectionStateMonitor.record(Re.OPENING_CONNECTION),await this._initializeWebSocketConnection({apiKey:n,appSyncGraphqlEndpoint:r,authenticationType:i,region:o,additionalCustomHeaders:s})}async _publishMessage(t,n){const r=pr(),{additionalCustomHeaders:i,libraryConfigHeaders:o}=await zr(t),s=await this._prepareSubscriptionPayload({options:t,subscriptionId:r,customUserAgentDetails:n,additionalCustomHeaders:i,libraryConfigHeaders:o,publish:!0});return new Promise((c,a)=>{if(this.awsRealTimeSocket){const l=p=>{const v=JSON.parse(p.data);if(v.id===r&&v.type==="publish_success"&&(this.awsRealTimeSocket&&this.awsRealTimeSocket.removeEventListener("message",l),g(),c()),v.errors&&v.errors.length>0){const w=v.errors.map(P=>P.errorType);g(),a(new Error(`Publish errors: ${w.join(", ")}`))}},u=p=>{g(),a(new Error(`WebSocket error: ${p}`))},h=()=>{g(),a(new Error("WebSocket is closed"))},g=()=>{var p,v,w;(p=this.awsRealTimeSocket)==null||p.removeEventListener("message",l),(v=this.awsRealTimeSocket)==null||v.removeEventListener("error",u),(w=this.awsRealTimeSocket)==null||w.removeEventListener("close",h)};this.awsRealTimeSocket.addEventListener("message",l),this.awsRealTimeSocket.addEventListener("error",u),this.awsRealTimeSocket.addEventListener("close",h),this.awsRealTimeSocket.send(s)}else a(new Error("WebSocket is not connected"))})}async _cleanupSubscription(t,n){n==null||n.unsubscribe();try{await this._waitForSubscriptionToBeConnected(t);const{subscriptionState:r}=this.subscriptionObserverMap.get(t)||{};if(!r)return;if(r===et.CONNECTED)this._sendUnsubscriptionMessage(t);else throw new Error("Subscription never connected")}catch(r){this.logger.debug(`Error while unsubscribing ${r}`)}finally{this._removeSubscriptionObserver(t)}}_startConnectionStateMonitoring(){return this.connectionStateMonitor.connectionStateObservable.subscribe(t=>{Es({event:Pg,data:{provider:this,connectionState:t},message:`Connection state is ${t}`}),this.connectionState=t,t===Z.ConnectionDisrupted&&this.reconnectionMonitor.record(Wt.START_RECONNECT),[Z.Connected,Z.ConnectedPendingDisconnect,Z.ConnectedPendingKeepAlive,Z.ConnectedPendingNetwork,Z.ConnectionDisruptedPendingNetwork,Z.Disconnected].includes(t)&&this.reconnectionMonitor.record(Wt.HALT_RECONNECT)})}async _startSubscriptionWithAWSAppSyncRealTime({options:t,observer:n,subscriptionId:r,customUserAgentDetails:i}){const{query:o,variables:s}=t;this.subscriptionObserverMap.set(r,{observer:n,query:o??"",variables:s??{},subscriptionState:et.PENDING,startAckTimeoutId:void 0});const{additionalCustomHeaders:c,libraryConfigHeaders:a}=await zr(t),l=await this._prepareSubscriptionPayload({options:t,subscriptionId:r,customUserAgentDetails:i,additionalCustomHeaders:c,libraryConfigHeaders:a});try{await this._connectWebSocket(t)}catch(g){this._logStartSubscriptionError(r,n,g);return}const{subscriptionFailedCallback:u,subscriptionReadyCallback:h}=this.subscriptionObserverMap.get(r)??{};this.subscriptionObserverMap.set(r,{observer:n,subscriptionState:et.PENDING,query:o??"",variables:s??{},subscriptionReadyCallback:h,subscriptionFailedCallback:u,startAckTimeoutId:setTimeout(()=>{this._timeoutStartSubscriptionAck(r)},Dg)}),this.awsRealTimeSocket&&this.awsRealTimeSocket.send(l)}_logStartSubscriptionError(t,n,r){this.logger.debug({err:r});const i=String(r.message??"");if(this._closeSocket(),this.connectionState!==Z.ConnectionDisruptedPendingNetwork){Rc(r)?n.error({errors:[{...new qr(`${De.CONNECTION_FAILED}: ${i}`)}]}):this.logger.debug(`${De.CONNECTION_FAILED}: ${i}`);const{subscriptionFailedCallback:o}=this.subscriptionObserverMap.get(t)||{};typeof o=="function"&&o()}}async _waitForSubscriptionToBeConnected(t){const n=this.subscriptionObserverMap.get(t);if(n){const{subscriptionState:r}=n;if(r===et.PENDING)return new Promise((i,o)=>{const{observer:s,subscriptionState:c,variables:a,query:l}=n;this.subscriptionObserverMap.set(t,{observer:s,subscriptionState:c,variables:a,query:l,subscriptionReadyCallback:i,subscriptionFailedCallback:o})})}}_sendUnsubscriptionMessage(t){try{if(this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.socketStatus===le.READY){const n=this._unsubscribeMessage(t),r=JSON.stringify(n);this.awsRealTimeSocket.send(r)}}catch(n){this.logger.debug({err:n})}}_removeSubscriptionObserver(t){this.subscriptionObserverMap.delete(t),this.allowNoSubscriptions||setTimeout(this._closeSocketIfRequired.bind(this),1e3)}_closeSocketIfRequired(){if(!(this.subscriptionObserverMap.size>0)){if(!this.awsRealTimeSocket){this.socketStatus=le.CLOSED;return}if(this.connectionStateMonitor.record(Re.CLOSING_CONNECTION),this.awsRealTimeSocket.bufferedAmount>0)setTimeout(this._closeSocketIfRequired.bind(this),1e3);else{this.logger.debug("closing WebSocket...");const t=this.awsRealTimeSocket;t.onclose=null,t.onerror=null,t.close(1e3),this.awsRealTimeSocket=void 0,this.socketStatus=le.CLOSED,this._closeSocket()}}}maintainKeepAlive(){this.keepAliveTimestamp=Date.now()}keepAliveHeartbeat(t){const n=Date.now();n-this.keepAliveTimestamp>Ug?this.connectionStateMonitor.record(Re.KEEP_ALIVE_MISSED):this.connectionStateMonitor.record(Re.KEEP_ALIVE),n-this.keepAliveTimestamp>t&&this._errorDisconnect(De.TIMEOUT_DISCONNECT)}_handleIncomingSubscriptionMessage(t){if(typeof t.data!="string")return;const[n,r]=this._handleSubscriptionData(t);if(n){this.maintainKeepAlive();return}const{type:i,id:o,payload:s}=r,{observer:c=null,query:a="",variables:l={},startAckTimeoutId:u,subscriptionReadyCallback:h,subscriptionFailedCallback:g}=this.subscriptionObserverMap.get(o)||{};if(i===we.GQL_START_ACK||i===we.EVENT_SUBSCRIBE_ACK){this.logger.debug(`subscription ready for ${JSON.stringify({query:a,variables:l})}`),typeof h=="function"&&h(),u&&clearTimeout(u),Es({event:De.SUBSCRIPTION_ACK,data:{query:a,variables:l},message:"Connection established for subscription"});const p=et.CONNECTED;c&&this.subscriptionObserverMap.set(o,{observer:c,query:a,variables:l,startAckTimeoutId:void 0,subscriptionState:p,subscriptionReadyCallback:h,subscriptionFailedCallback:g}),this.connectionStateMonitor.record(Re.CONNECTION_ESTABLISHED);return}if(i===we.GQL_CONNECTION_KEEP_ALIVE){this.maintainKeepAlive();return}if(i===we.GQL_ERROR){const p=et.FAILED;c&&(this.subscriptionObserverMap.set(o,{observer:c,query:a,variables:l,startAckTimeoutId:u,subscriptionReadyCallback:h,subscriptionFailedCallback:g,subscriptionState:p}),this.logger.debug(`${De.CONNECTION_FAILED}: ${JSON.stringify(s??r)}`),c.error({errors:[{...new qr(`${De.CONNECTION_FAILED}: ${JSON.stringify(s??r)}`)}]}),u&&clearTimeout(u),typeof g=="function"&&g())}}_errorDisconnect(t){this.logger.debug(`Disconnect error: ${t}`),this.awsRealTimeSocket&&(this._closeSocket(),this.awsRealTimeSocket.close()),this.socketStatus=le.CLOSED}_closeSocket(){this.keepAliveHeartbeatIntervalId&&(clearInterval(this.keepAliveHeartbeatIntervalId),this.keepAliveHeartbeatIntervalId=void 0),this.connectionStateMonitor.record(Re.CLOSED)}_timeoutStartSubscriptionAck(t){const n=this.subscriptionObserverMap.get(t);if(n){const{observer:r,query:i,variables:o}=n;if(!r)return;this.subscriptionObserverMap.set(t,{observer:r,query:i,variables:o,subscriptionState:et.FAILED}),this._closeSocket(),this.logger.debug("timeoutStartSubscription",JSON.stringify({query:i,variables:o}))}}_initializeWebSocketConnection({appSyncGraphqlEndpoint:t,authenticationType:n,apiKey:r,region:i,additionalCustomHeaders:o}){if(this.socketStatus!==le.READY)return new Promise(async(s,c)=>{if(this.promiseArray.push({res:s,rej:c}),this.socketStatus===le.CLOSED)try{this.socketStatus=le.CONNECTING;const l=await Ra({authenticationType:n,payload:"{}",canonicalUri:this.wsConnectUri,apiKey:r,appSyncGraphqlEndpoint:t,region:i,additionalCustomHeaders:o}),u=l?JSON.stringify(l):"",g=`header-${hp.convert(u,{urlSafe:!0,skipPadding:!0})}`,p=zg(o),v=Jg(t,p);await this._establishRetryableConnection(v,g),this.promiseArray.forEach(({res:w})=>{this.logger.debug("Notifying connection successful"),w()}),this.socketStatus=le.READY,this.promiseArray=[]}catch(a){this.logger.debug("Connection exited with",a),this.promiseArray.forEach(({rej:l})=>{l(a)}),this.promiseArray=[],this.awsRealTimeSocket&&this.awsRealTimeSocket.readyState===WebSocket.OPEN&&this.awsRealTimeSocket.close(3001),this.awsRealTimeSocket=void 0,this.socketStatus=le.CLOSED}})}async _establishRetryableConnection(t,n){this.logger.debug("Establishing retryable connection"),await lp(this._establishConnection.bind(this),[t,n],Og)}async _openConnection(t,n){return new Promise((r,i)=>{const o=this._getNewWebSocket(t,[this.wsProtocolName,n]);o.onerror=()=>{this.logger.debug("WebSocket connection error")},o.onclose=()=>{this._closeSocket(),i(new Error("Connection handshake error"))},o.onopen=()=>{this.awsRealTimeSocket=o,r()}})}_getNewWebSocket(t,n){return new WebSocket(t,n)}async _initiateHandshake(){return new Promise((t,n)=>{if(!this.awsRealTimeSocket){n(new Error("awsRealTimeSocket undefined"));return}let r=!1;this.awsRealTimeSocket.onerror=s=>{this.logger.debug(`WebSocket error ${JSON.stringify(s)}`)},this.awsRealTimeSocket.onclose=s=>{this.logger.debug(`WebSocket closed ${s.reason}`),this._closeSocket(),n(new Error(JSON.stringify(s)))},this.awsRealTimeSocket.onmessage=s=>{if(typeof s.data!="string")return;this.logger.debug(`subscription message from AWS AppSyncRealTime: ${s.data} `);const c=JSON.parse(s.data),{type:a}=c,l=this._extractConnectionTimeout(c);if(a===we.GQL_CONNECTION_ACK){r=!0,this._registerWebsocketHandlers(l),t("Connected to AWS AppSyncRealTime");return}if(a===we.GQL_CONNECTION_ERROR){const{errorType:u,errorCode:h}=this._extractErrorCodeAndType(c);n({errorType:u,errorCode:h})}};const i={type:we.GQL_CONNECTION_INIT};this.awsRealTimeSocket.send(JSON.stringify(i));const o=s=>{s||(this.connectionStateMonitor.record(Re.CONNECTION_FAILED),n(new Error(`Connection timeout: ack from AWSAppSyncRealTime was not received after ${ms} ms`)))};setTimeout(()=>{o(r)},ms)})}_registerWebsocketHandlers(t){this.awsRealTimeSocket&&(this.keepAliveHeartbeatIntervalId=setInterval(()=>{this.keepAliveHeartbeat(t)},Lg),this.awsRealTimeSocket.onmessage=this._handleIncomingSubscriptionMessage.bind(this),this.awsRealTimeSocket.onerror=n=>{this.logger.debug(n),this._errorDisconnect(De.CONNECTION_CLOSED)},this.awsRealTimeSocket.onclose=n=>{this.logger.debug(`WebSocket closed ${n.reason}`),this._closeSocket(),this._errorDisconnect(De.CONNECTION_CLOSED)})}}class ft extends Ee{constructor(t){super(t),this.constructor=ft,Object.setPrototypeOf(this,ft.prototype)}}const Na=e=>{var r,i,o,s,c,a;const t=(o=(i=(r=e.libraryOptions)==null?void 0:r.API)==null?void 0:i.GraphQL)==null?void 0:o.headers,n=(a=(c=(s=e.libraryOptions)==null?void 0:s.API)==null?void 0:c.GraphQL)==null?void 0:a.withCredentials;return{headers:t,withCredentials:n}};function Zg(e){return e.errors&&Array.isArray(e.errors)&&e.errors.forEach(t=>{ey(t)&&(t.message="Unauthorized",t.recoverySuggestion=`If you're calling an Amplify-generated API, make sure to set the "authMode" in generateClient({ authMode: '...' }) to the backend authorization rule's auth provider ('apiKey', 'userPool', 'iam', 'oidc', 'lambda')`)}),e}function ey(e){var t,n,r,i;return!!((n=(t=e==null?void 0:e.originalError)==null?void 0:t.name)!=null&&n.startsWith("UnauthorizedException")||(r=e.message)!=null&&r.startsWith("Connection failed:")&&((i=e.message)!=null&&i.includes("Permission denied")))}var Ot;(function(e){e.NO_API_KEY="No api-key configured",e.NO_CURRENT_USER="No current user",e.NO_CREDENTIALS="No credentials",e.NO_FEDERATED_JWT="No federated jwt",e.NO_AUTH_TOKEN="No auth token specified"})(Ot||(Ot={}));const ty={name:"NoApiKey",message:Ot.NO_API_KEY,recoverySuggestion:'The API request was made with `authMode: "apiKey"` but no API Key was passed into `Amplify.configure()`. Review if your API key is passed into the `Amplify.configure()` function.'},ny={name:"NoCredentials",message:Ot.NO_CREDENTIALS,recoverySuggestion:'The API request was made with `authMode: "iam"` but no authentication credentials are available.\n\nIf you intended to make a request using an authenticated role, review if your user is signed in before making the request.\n\nIf you intend to make a request using an unauthenticated role or also known as "guest access", verify if "Auth.Cognito.allowGuestAccess" is set to "true" in the `Amplify.configure()` function.'},ry={name:"NoValidAuthTokens",message:Ot.NO_FEDERATED_JWT,recoverySuggestion:"If you intended to make an authenticated API request, review if the current user is signed in."},iy={name:"NoSignedUser",message:Ot.NO_CURRENT_USER,recoverySuggestion:"Review the underlying exception field for more details. If you intended to make an authenticated API request, review if the current user is signed in."},oy={name:"NoAuthorizationHeader",message:Ot.NO_AUTH_TOKEN,recoverySuggestion:'The API request was made with `authMode: "lambda"` but no `authToken` is set. Review if a valid authToken is passed into the request options or in the `Amplify.configure()` function.'};function sy(e){if(!e)return!1;const t=e;return Array.isArray(t.errors)&&t.errors.length>0}async function cy(e,t,n,r={}){var o;let i={};switch(t){case"apiKey":if(!n)throw new ft(ty);i={"X-Api-Key":n};break;case"iam":{if((await e.Auth.fetchAuthSession()).credentials===void 0)throw new ft(ny);break}case"oidc":case"userPool":{let s;try{s=(o=(await e.Auth.fetchAuthSession()).tokens)==null?void 0:o.accessToken.toString()}catch(c){throw new ft({...iy,underlyingError:c})}if(!s)throw new ft(ry);i={Authorization:s};break}case"lambda":if(typeof r=="object"&&!r.Authorization)throw new ft(oy);i={Authorization:r.Authorization};break}return i}const hn=(e,t)=>e?e==="identityPool"?"iam":e:t,Pa=()=>{var i;const t=(i=Me.getConfig().API)==null?void 0:i.Events;if(!t)throw new Error("Amplify configuration is missing. Have you called Amplify.configure()?");const n=hn(t.defaultAuthMode,"apiKey");return{appSyncGraphqlEndpoint:t.endpoint,region:t.region,authenticationType:n,apiKey:t.apiKey}},ir=e=>{if(Array.isArray(e))return e.map((n,r)=>{const i=JSON.stringify(n);if(i===void 0)throw new Error(`Event must be a valid JSON value. Received ${n} at index ${r}`);return i});const t=JSON.stringify(e);if(t===void 0)throw new Error(`Event must be a valid JSON value. Received ${e}`);return[t]},Ts="AWSAppSyncEventsProvider",ay="aws-appsync-event-ws",ly="";class uy extends Xg{constructor(){super({providerName:Ts,wsProtocolName:ay,connectUri:ly}),this.allowNoSubscriptions=!0}getProviderName(){return Ts}async connect(t){super.connect(t)}subscribe(t,n){return super.subscribe(t,n).pipe()}async publish(t,n){return super.publish(t,n)}closeIfNoActiveSubscription(){this._closeSocketIfRequired()}async _prepareSubscriptionPayload({options:t,subscriptionId:n,customUserAgentDetails:r,additionalCustomHeaders:i,libraryConfigHeaders:o,publish:s}){const{appSyncGraphqlEndpoint:c,authenticationType:a,query:l,apiKey:u,region:h,variables:g}=t,p={channel:l,events:g!==void 0?ir(g):void 0},v=JSON.stringify(p),w={...await Ra({apiKey:u,appSyncGraphqlEndpoint:c,authenticationType:a,payload:v,canonicalUri:"",region:h,additionalCustomHeaders:i}),...o,...i,[sf]:On(r)},P={id:n,channel:l,events:g!==void 0?ir(g):void 0,authorization:{...w},payload:{events:g!==void 0?ir(g):void 0,channel:l,extensions:{authorization:{...w}}},type:s?we.EVENT_PUBLISH:we.EVENT_SUBSCRIBE};return JSON.stringify(P)}_handleSubscriptionData(t){this.logger.debug(`subscription message from AWS AppSync Events: ${t.data}`);const{id:n="",event:r,type:i}=JSON.parse(String(t.data)),{observer:o=null,query:s="",variables:c={}}=this.subscriptionObserverMap.get(n)||{};if(this.logger.debug({id:n,observer:o,query:s,variables:c}),i===we.DATA&&r){const a=JSON.parse(r);return o?o.next({id:n,type:i,event:a}):this.logger.debug(`observer not found for id: ${n}`),[!0,{id:n,type:i,payload:a}]}return[!1,{id:n,type:i,payload:r}]}_unsubscribeMessage(t){return{id:t,type:we.EVENT_STOP}}_extractConnectionTimeout(t){const{connectionTimeoutMs:n=Mg}=t;return n}_extractErrorCodeAndType(t){const{errors:[{errorType:n="",errorCode:r=0}={}]=[]}=t;return{errorCode:r,errorType:n}}}const Bn=new uy,fy="x-amz-user-agent";async function dy(e,t,n={},r,i){const{region:o,appSyncGraphqlEndpoint:s,authenticationType:c,query:a,variables:l}=t;if(!s)throw new Error("No endpoint");const{withCredentials:u}=Na(e),h=await hy(e,t,n,i),g={channel:a,events:l},p=["apiKey","none"].includes(c)?void 0:{service:"appsync",region:o},{body:v}=await xg(e,{url:new mt(s),options:{headers:h,body:g,signingServiceInfo:p,withCredentials:u},abortController:r}),w=await v.json();if(sy(w))throw Zg(w);return w}async function hy(e,t,n,r){const{apiKey:i,appSyncGraphqlEndpoint:o,authenticationType:s,query:c,variables:a,authToken:l}=t,{headers:u}=Na(e);let h;if(typeof n=="function"){const w={method:"POST",url:new mt(o).toString(),queryString:c};h=await n(w)}else h=n;l&&(h={...h,Authorization:l});const g=await cy(e,s,i,h),p=u&&await u({query:c,variables:a});return{...g,...p,...h,[fy]:On(r)}}const Xt=new Set;async function py(e,t){const n=Pa();n.authenticationType=hn(t==null?void 0:t.authMode,n.authenticationType),n.apiKey=n.apiKey,n.authToken=n.authToken,await Bn.connect(n);const r=pr();Xt.add(r);let i;return{subscribe:(a,l)=>{if(!Xt.has(r))throw new Error("Channel is closed");const u={...n,query:e};return u.authenticationType=hn(l==null?void 0:l.authMode,u.authenticationType),u.apiKey=(l==null?void 0:l.apiKey)||u.apiKey,u.authToken=(l==null?void 0:l.authToken)||u.authToken,i=Bn.subscribe(u).subscribe(a),i},close:async()=>{i&&i.unsubscribe(),Xt.delete(r),setTimeout(()=>{Xt.size===0&&Bn.closeIfNoActiveSubscription()},1e3)},publish:async(a,l)=>{if(!Xt.has(r))throw new Error("Channel is closed");const u={...n,query:e,variables:a};return u.authenticationType=hn(l==null?void 0:l.authMode,u.authenticationType),u.apiKey=(l==null?void 0:l.apiKey)||u.apiKey,u.authToken=(l==null?void 0:l.authToken)||u.authToken,Bn.publish(u)}}}async function gy(e,t,n){var a;const r=Pa();r.authenticationType=hn(n==null?void 0:n.authMode,r.authenticationType),r.apiKey=r.apiKey,r.authToken=r.authToken;const i=e[0]==="/"?e:`/${e}`,o={...r,query:i,variables:ir(t)},s=new AbortController,c=await dy(Me,o,{},s);if(((a=c.failed)==null?void 0:a.length)>0)return c.failed}const yy=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},my={setup(){const e=Jt(""),t=Jt([]),n=Jt(null),r=Jt(!1),i=Jt("");let o=null;const s=async()=>{i.value.trim()&&(r.value=!0,o=await py("/default/test"),o.subscribe({next:a=>{t.value.push({sender:a.event.sender,text:a.event.message,time:new Date().toLocaleTimeString()})},error:a=>console.error("error",a)}))},c=()=>{e.value.trim()&&(gy("/default/test",{message:e.value,sender:i.value}),e.value="")};return zn(t,()=>{setTimeout(()=>{n.value&&(n.value.scrollTop=n.value.scrollHeight)},0)},{deep:!0}),{message:e,messages:t,publishEvent:c,messageContainer:n,isAuthenticated:r,userName:i,handleLogin:s}}},by={key:0,class:"login-container"},Sy={class:"login-box"},vy={key:1,class:"chat-container"},_y={class:"chat-header"},wy={class:"user-info"},Iy={class:"chat-messages",ref:"messageContainer"},Ey={class:"message-sender"},Ty={class:"message-content"},Ay={class:"message-time"},Cy={class:"chat-input"};function xy(e,t,n,r,i,o){return r.isAuthenticated?(Un(),Kn("div",vy,[ne("div",_y,[t[7]||(t[7]=ne("h1",null,"AppSync Chat",-1)),ne("div",wy,"Welcome, "+Zt(r.userName),1)]),ne("div",Iy,[(Un(!0),Kn(qe,null,Hl(r.messages,(s,c)=>(Un(),Kn("div",{key:c,class:wr(["message",s.sender===r.userName?"message-mine":"message-other"])},[ne("div",Ey,Zt(s.sender),1),ne("div",Ty,Zt(s.text),1),ne("span",Ay,Zt(s.time),1)],2))),128))],512),ne("div",Cy,[ro(ne("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=s=>r.message=s),placeholder:"Type a message...",onKeyup:t[4]||(t[4]=Ro((...s)=>r.publishEvent&&r.publishEvent(...s),["enter"]))},null,544),[[Oo,r.message]]),ne("button",{onClick:t[5]||(t[5]=(...s)=>r.publishEvent&&r.publishEvent(...s)),class:"send-button"},t[8]||(t[8]=[ne("span",null,"Send",-1)]))])])):(Un(),Kn("div",by,[ne("div",Sy,[t[6]||(t[6]=ne("h2",null,"Welcome to AppSync Chat",-1)),ro(ne("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>r.userName=s),placeholder:"Enter your name",onKeyup:t[1]||(t[1]=Ro((...s)=>r.handleLogin&&r.handleLogin(...s),["enter"]))},null,544),[[Oo,r.userName]]),ne("button",{onClick:t[2]||(t[2]=(...s)=>r.handleLogin&&r.handleLogin(...s)),class:"login-button"},"Join Chat")])]))}const Oy=yy(my,[["render",xy],["__scopeId","data-v-d02bdca1"]]);eg.configure({API:{Events:{endpoint:"https://ws2ll764grdmbmlqpxzsnkvvfa.appsync-api.us-east-1.amazonaws.com/event",region:"us-east-1",defaultAuthMode:"apiKey",apiKey:"da2-ovdidjfcd5e7xmqsnnimapmgce"}}});const Ry=tf(Oy);Ry.mount("#app");
